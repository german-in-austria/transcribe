/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/dist/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 2);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n\r\nvar isPromise = __webpack_require__(1);\r\n\r\nfunction registerPromiseWorker(callback) {\r\n\r\n  function postOutgoingMessage(e, messageId, error, result) {\r\n    function postMessage(msg, transferList) {\r\n      /* istanbul ignore if */\r\n      if (typeof self.postMessage !== 'function') { // service worker\r\n        e.ports[0].postMessage(msg, transferList);\r\n      } else { // web worker\r\n        self.postMessage(msg, transferList);\r\n      }\r\n    }\r\n    if (error) {\r\n      /* istanbul ignore else */\r\n      if (typeof console !== 'undefined' && 'error' in console) {\r\n        // This is to make errors easier to debug. I think it's important\r\n        // enough to just leave here without giving the user an option\r\n        // to silence it.\r\n        console.error('Worker caught an error:', error);\r\n      }\r\n      postMessage([messageId, {\r\n        message: error.message\r\n      }]);\r\n    } else {\r\n      if (result instanceof MessageWithTransferList) {\r\n        postMessage([messageId, null, result.message], result.transferList);\r\n      } else {\r\n        postMessage([messageId, null, result]);\r\n      }\r\n    }\r\n  }\r\n\r\n  function tryCatchFunc(callback, message) {\r\n    try {\r\n      return {res: callback(message, withTransferList)};\r\n    } catch (e) {\r\n      return {err: e};\r\n    }\r\n  }\r\n\r\n  function withTransferList(resMessage, transferList) {\r\n    return new MessageWithTransferList(resMessage, transferList);\r\n  } \r\n\r\n  function handleIncomingMessage(e, callback, messageId, message) {\r\n\r\n    var result = tryCatchFunc(callback, message);\r\n\r\n    if (result.err) {\r\n      postOutgoingMessage(e, messageId, result.err);\r\n    } else if (!isPromise(result.res)) {\r\n        postOutgoingMessage(e, messageId, null, result.res);\r\n    } else {\r\n      result.res.then(function (finalResult) {\r\n        postOutgoingMessage(e, messageId, null, finalResult);\r\n      }, function (finalError) {\r\n        postOutgoingMessage(e, messageId, finalError);\r\n      });\r\n    }\r\n  }\r\n\r\n  function onIncomingMessage(e) {\r\n    var payload = e.data;\r\n    if (!Array.isArray(payload) || payload.length !== 2) {\r\n      // message doens't match communication format; ignore\r\n      return;\r\n    }\r\n    var messageId = payload[0];\r\n    var message = payload[1];\r\n\r\n    if (typeof callback !== 'function') {\r\n      postOutgoingMessage(e, messageId, new Error(\r\n        'Please pass a function into register().'));\r\n    } else {\r\n      handleIncomingMessage(e, callback, messageId, message);\r\n    }\r\n  }\r\n\r\n  function MessageWithTransferList(message, transferList) {\r\n    this.message = message;\r\n    this.transferList = transferList;\r\n  }\r\n\r\n  self.addEventListener('message', onIncomingMessage);\r\n}\r\n\r\nmodule.exports = registerPromiseWorker;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3Byb21pc2Utd29ya2VyLXRyYW5zZmVyYWJsZS9yZWdpc3Rlci5qcz8yN2RjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRDtBQUNBLE9BQU8sT0FBTztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsS0FBSztBQUNMLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBpc1Byb21pc2UgPSByZXF1aXJlKCdpcy1wcm9taXNlJyk7XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlclByb21pc2VXb3JrZXIoY2FsbGJhY2spIHtcclxuXHJcbiAgZnVuY3Rpb24gcG9zdE91dGdvaW5nTWVzc2FnZShlLCBtZXNzYWdlSWQsIGVycm9yLCByZXN1bHQpIHtcclxuICAgIGZ1bmN0aW9uIHBvc3RNZXNzYWdlKG1zZywgdHJhbnNmZXJMaXN0KSB7XHJcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xyXG4gICAgICBpZiAodHlwZW9mIHNlbGYucG9zdE1lc3NhZ2UgIT09ICdmdW5jdGlvbicpIHsgLy8gc2VydmljZSB3b3JrZXJcclxuICAgICAgICBlLnBvcnRzWzBdLnBvc3RNZXNzYWdlKG1zZywgdHJhbnNmZXJMaXN0KTtcclxuICAgICAgfSBlbHNlIHsgLy8gd2ViIHdvcmtlclxyXG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2UobXNnLCB0cmFuc2Zlckxpc3QpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cclxuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiAnZXJyb3InIGluIGNvbnNvbGUpIHtcclxuICAgICAgICAvLyBUaGlzIGlzIHRvIG1ha2UgZXJyb3JzIGVhc2llciB0byBkZWJ1Zy4gSSB0aGluayBpdCdzIGltcG9ydGFudFxyXG4gICAgICAgIC8vIGVub3VnaCB0byBqdXN0IGxlYXZlIGhlcmUgd2l0aG91dCBnaXZpbmcgdGhlIHVzZXIgYW4gb3B0aW9uXHJcbiAgICAgICAgLy8gdG8gc2lsZW5jZSBpdC5cclxuICAgICAgICBjb25zb2xlLmVycm9yKCdXb3JrZXIgY2F1Z2h0IGFuIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgICBwb3N0TWVzc2FnZShbbWVzc2FnZUlkLCB7XHJcbiAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZVxyXG4gICAgICB9XSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgTWVzc2FnZVdpdGhUcmFuc2Zlckxpc3QpIHtcclxuICAgICAgICBwb3N0TWVzc2FnZShbbWVzc2FnZUlkLCBudWxsLCByZXN1bHQubWVzc2FnZV0sIHJlc3VsdC50cmFuc2Zlckxpc3QpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBvc3RNZXNzYWdlKFttZXNzYWdlSWQsIG51bGwsIHJlc3VsdF0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0cnlDYXRjaEZ1bmMoY2FsbGJhY2ssIG1lc3NhZ2UpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiB7cmVzOiBjYWxsYmFjayhtZXNzYWdlLCB3aXRoVHJhbnNmZXJMaXN0KX07XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiB7ZXJyOiBlfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHdpdGhUcmFuc2Zlckxpc3QocmVzTWVzc2FnZSwgdHJhbnNmZXJMaXN0KSB7XHJcbiAgICByZXR1cm4gbmV3IE1lc3NhZ2VXaXRoVHJhbnNmZXJMaXN0KHJlc01lc3NhZ2UsIHRyYW5zZmVyTGlzdCk7XHJcbiAgfSBcclxuXHJcbiAgZnVuY3Rpb24gaGFuZGxlSW5jb21pbmdNZXNzYWdlKGUsIGNhbGxiYWNrLCBtZXNzYWdlSWQsIG1lc3NhZ2UpIHtcclxuXHJcbiAgICB2YXIgcmVzdWx0ID0gdHJ5Q2F0Y2hGdW5jKGNhbGxiYWNrLCBtZXNzYWdlKTtcclxuXHJcbiAgICBpZiAocmVzdWx0LmVycikge1xyXG4gICAgICBwb3N0T3V0Z29pbmdNZXNzYWdlKGUsIG1lc3NhZ2VJZCwgcmVzdWx0LmVycik7XHJcbiAgICB9IGVsc2UgaWYgKCFpc1Byb21pc2UocmVzdWx0LnJlcykpIHtcclxuICAgICAgICBwb3N0T3V0Z29pbmdNZXNzYWdlKGUsIG1lc3NhZ2VJZCwgbnVsbCwgcmVzdWx0LnJlcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXN1bHQucmVzLnRoZW4oZnVuY3Rpb24gKGZpbmFsUmVzdWx0KSB7XHJcbiAgICAgICAgcG9zdE91dGdvaW5nTWVzc2FnZShlLCBtZXNzYWdlSWQsIG51bGwsIGZpbmFsUmVzdWx0KTtcclxuICAgICAgfSwgZnVuY3Rpb24gKGZpbmFsRXJyb3IpIHtcclxuICAgICAgICBwb3N0T3V0Z29pbmdNZXNzYWdlKGUsIG1lc3NhZ2VJZCwgZmluYWxFcnJvcik7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25JbmNvbWluZ01lc3NhZ2UoZSkge1xyXG4gICAgdmFyIHBheWxvYWQgPSBlLmRhdGE7XHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocGF5bG9hZCkgfHwgcGF5bG9hZC5sZW5ndGggIT09IDIpIHtcclxuICAgICAgLy8gbWVzc2FnZSBkb2Vucyd0IG1hdGNoIGNvbW11bmljYXRpb24gZm9ybWF0OyBpZ25vcmVcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIG1lc3NhZ2VJZCA9IHBheWxvYWRbMF07XHJcbiAgICB2YXIgbWVzc2FnZSA9IHBheWxvYWRbMV07XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBwb3N0T3V0Z29pbmdNZXNzYWdlKGUsIG1lc3NhZ2VJZCwgbmV3IEVycm9yKFxyXG4gICAgICAgICdQbGVhc2UgcGFzcyBhIGZ1bmN0aW9uIGludG8gcmVnaXN0ZXIoKS4nKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBoYW5kbGVJbmNvbWluZ01lc3NhZ2UoZSwgY2FsbGJhY2ssIG1lc3NhZ2VJZCwgbWVzc2FnZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBNZXNzYWdlV2l0aFRyYW5zZmVyTGlzdChtZXNzYWdlLCB0cmFuc2Zlckxpc3QpIHtcclxuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICB0aGlzLnRyYW5zZmVyTGlzdCA9IHRyYW5zZmVyTGlzdDtcclxuICB9XHJcblxyXG4gIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uSW5jb21pbmdNZXNzYWdlKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByZWdpc3RlclByb21pc2VXb3JrZXI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Byb21pc2Utd29ya2VyLXRyYW5zZmVyYWJsZS9yZWdpc3Rlci5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports) {

eval("module.exports = isPromise;\n\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2lzLXByb21pc2UvaW5kZXguanM/ZDZiZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gaXNQcm9taXNlO1xuXG5mdW5jdGlvbiBpc1Byb21pc2Uob2JqKSB7XG4gIHJldHVybiAhIW9iaiAmJiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykgJiYgdHlwZW9mIG9iai50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2lzLXByb21pc2UvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nvar registerPromiseWorker = __webpack_require__(0);\nvar FFT = function (bufferSize, sampleRate, windowFunc, alpha) {\n    this.bufferSize = bufferSize;\n    this.sampleRate = sampleRate;\n    this.bandwidth = (2 / bufferSize) * (sampleRate / 2);\n    this.sinTable = new Float32Array(bufferSize);\n    this.cosTable = new Float32Array(bufferSize);\n    this.windowValues = new Float32Array(bufferSize);\n    this.reverseTable = new Uint32Array(bufferSize);\n    this.peakBand = 0;\n    this.peak = 0;\n    switch (windowFunc) {\n        case 'bartlett':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_1 = 0; i_1 < bufferSize; i_1++) {\n                this.windowValues[i_1] =\n                    (2 / (bufferSize - 1)) *\n                        ((bufferSize - 1) / 2 - Math.abs(i_1 - (bufferSize - 1) / 2));\n            }\n            break;\n        case 'bartlettHann':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_2 = 0; i_2 < bufferSize; i_2++) {\n                this.windowValues[i_2] =\n                    0.62 -\n                        0.48 * Math.abs(i_2 / (bufferSize - 1) - 0.5) -\n                        0.38 * Math.cos((Math.PI * 2 * i_2) / (bufferSize - 1));\n            }\n            break;\n        case 'blackman':\n            alpha = alpha || 0.16;\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_3 = 0; i_3 < bufferSize; i_3++) {\n                this.windowValues[i_3] =\n                    (1 - alpha) / 2 -\n                        0.5 * Math.cos((Math.PI * 2 * i_3) / (bufferSize - 1)) +\n                        (alpha / 2) *\n                            Math.cos((4 * Math.PI * i_3) / (bufferSize - 1));\n            }\n            break;\n        case 'cosine':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_4 = 0; i_4 < bufferSize; i_4++) {\n                this.windowValues[i_4] = Math.cos((Math.PI * i_4) / (bufferSize - 1) - Math.PI / 2);\n            }\n            break;\n        case 'gauss':\n            alpha = alpha || 0.25;\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_5 = 0; i_5 < bufferSize; i_5++) {\n                this.windowValues[i_5] = Math.pow(Math.E, -0.5 *\n                    Math.pow((i_5 - (bufferSize - 1) / 2) /\n                        ((alpha * (bufferSize - 1)) / 2), 2));\n            }\n            break;\n        case 'hamming':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_6 = 0; i_6 < bufferSize; i_6++) {\n                this.windowValues[i_6] =\n                    (0.54 - 0.46) *\n                        Math.cos((Math.PI * 2 * i_6) / (bufferSize - 1));\n            }\n            break;\n        case 'hann':\n        case undefined:\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_7 = 0; i_7 < bufferSize; i_7++) {\n                this.windowValues[i_7] =\n                    0.5 * (1 - Math.cos((Math.PI * 2 * i_7) / (bufferSize - 1)));\n            }\n            break;\n        case 'lanczoz':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_8 = 0; i_8 < bufferSize; i_8++) {\n                this.windowValues[i_8] =\n                    Math.sin(Math.PI * ((2 * i_8) / (bufferSize - 1) - 1)) /\n                        (Math.PI * ((2 * i_8) / (bufferSize - 1) - 1));\n            }\n            break;\n        case 'rectangular':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_9 = 0; i_9 < bufferSize; i_9++) {\n                this.windowValues[i_9] = 1;\n            }\n            break;\n        case 'triangular':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_10 = 0; i_10 < bufferSize; i_10++) {\n                this.windowValues[i_10] =\n                    (2 / bufferSize) *\n                        (bufferSize / 2 - Math.abs(i_10 - (bufferSize - 1) / 2));\n            }\n            break;\n        default:\n            throw Error('No such window function \\'' + windowFunc + '\\'');\n    }\n    var limit = 1;\n    // tslint:disable-next-line:no-bitwise\n    var bit = bufferSize >> 1;\n    var i;\n    while (limit < bufferSize) {\n        for (i = 0; i < limit; i++) {\n            this.reverseTable[i + limit] = this.reverseTable[i] + bit;\n        }\n        // tslint:disable-next-line:no-bitwise\n        limit = limit << 1;\n        // tslint:disable-next-line:no-bitwise\n        bit = bit >> 1;\n    }\n    for (i = 0; i < bufferSize; i++) {\n        this.sinTable[i] = Math.sin(-Math.PI / i);\n        this.cosTable[i] = Math.cos(-Math.PI / i);\n    }\n    this.calculateSpectrum = function (buffer) {\n        // Locally scope variables for speed up\n        // tslint:disable-next-line:no-shadowed-variable\n        var bufferSize = this.bufferSize;\n        var cosTable = this.cosTable;\n        var sinTable = this.sinTable;\n        var reverseTable = this.reverseTable;\n        var real = new Float32Array(bufferSize);\n        var imag = new Float32Array(bufferSize);\n        var bSi = 2 / this.bufferSize;\n        var sqrt = Math.sqrt;\n        var rval;\n        var ival;\n        var mag;\n        var spectrum = new Float32Array(bufferSize / 2);\n        var k = Math.floor(Math.log(bufferSize) / Math.LN2);\n        if (Math.pow(2, k) !== bufferSize) {\n            throw new Error('Invalid buffer size, must be a power of 2.');\n        }\n        if (bufferSize !== buffer.length) {\n            throw new Error('Supplied buffer is not the same size as defined FFT. FFT Size: ' +\n                bufferSize + ' Buffer Size: ' + buffer.length);\n        }\n        var halfSize = 1;\n        var phaseShiftStepReal;\n        var phaseShiftStepImag;\n        var currentPhaseShiftReal;\n        var currentPhaseShiftImag;\n        var off;\n        var tr;\n        var ti;\n        var tmpReal;\n        // tslint:disable-next-line:no-shadowed-variable\n        for (var i_11 = 0; i_11 < bufferSize; i_11++) {\n            real[i_11] =\n                buffer[reverseTable[i_11]] * this.windowValues[reverseTable[i_11]];\n            imag[i_11] = 0;\n        }\n        while (halfSize < bufferSize) {\n            phaseShiftStepReal = cosTable[halfSize];\n            phaseShiftStepImag = sinTable[halfSize];\n            currentPhaseShiftReal = 1;\n            currentPhaseShiftImag = 0;\n            for (var fftStep = 0; fftStep < halfSize; fftStep++) {\n                // tslint:disable-next-line:no-shadowed-variable\n                var i_12 = fftStep;\n                while (i_12 < bufferSize) {\n                    off = i_12 + halfSize;\n                    tr =\n                        currentPhaseShiftReal * real[off] -\n                            currentPhaseShiftImag * imag[off];\n                    ti =\n                        currentPhaseShiftReal * imag[off] +\n                            currentPhaseShiftImag * real[off];\n                    real[off] = real[i_12] - tr;\n                    imag[off] = imag[i_12] - ti;\n                    real[i_12] += tr;\n                    imag[i_12] += ti;\n                    // tslint:disable-next-line:no-bitwise\n                    i_12 += halfSize << 1;\n                }\n                tmpReal = currentPhaseShiftReal;\n                currentPhaseShiftReal =\n                    tmpReal * phaseShiftStepReal -\n                        currentPhaseShiftImag * phaseShiftStepImag;\n                currentPhaseShiftImag =\n                    tmpReal * phaseShiftStepImag +\n                        currentPhaseShiftImag * phaseShiftStepReal;\n            }\n            // tslint:disable-next-line:no-bitwise\n            halfSize = halfSize << 1;\n        }\n        // tslint:disable-next-line:no-shadowed-variable\n        for (var i_13 = 0, N = bufferSize / 2; i_13 < N; i_13++) {\n            rval = real[i_13];\n            ival = imag[i_13];\n            mag = bSi * sqrt(rval * rval + ival * ival);\n            if (mag > this.peak) {\n                this.peakBand = i_13;\n                this.peak = mag;\n            }\n            spectrum[i_13] = mag;\n        }\n        return spectrum;\n    };\n};\nfunction makeImage(f, gradient) {\n    console.log({ gradient: gradient });\n    var image = new ImageData(f.length, f[0].length);\n    for (var i = 0; i < image.data.length; i += 4) {\n        var j = i / 4;\n        var x = j % f.length;\n        var y = Math.floor(j / f.length);\n        image.data[i] = gradient[f[x][y]][0];\n        image.data[i + 1] = gradient[f[x][y]][1];\n        image.data[i + 2] = gradient[f[x][y]][2];\n        image.data[i + 3] = gradient[f[x][y]][3] * 255;\n        // image.data[i]     = 255\n        // image.data[i + 1] = 255\n        // image.data[i + 2] = 255\n        // image.data[i + 3] = f[x][y]\n    }\n    return image;\n}\nfunction resample(oldMatrix, width) {\n    var columnsNumber = width;\n    var newMatrix = [];\n    var oldPiece = 1 / oldMatrix.length;\n    var newPiece = 1 / columnsNumber;\n    var i;\n    for (i = 0; i < columnsNumber; i++) {\n        var column = new Array(oldMatrix[0].length);\n        var j = void 0;\n        for (j = 0; j < oldMatrix.length; j++) {\n            var oldStart = j * oldPiece;\n            var oldEnd = oldStart + oldPiece;\n            var newStart = i * newPiece;\n            var newEnd = newStart + newPiece;\n            var overlap = oldEnd <= newStart || newEnd <= oldStart\n                ? 0\n                : Math.min(Math.max(oldEnd, newStart), Math.max(newEnd, oldStart)) -\n                    Math.max(Math.min(oldEnd, newStart), Math.min(newEnd, oldStart));\n            var k = void 0;\n            /* eslint-disable max-depth */\n            if (overlap > 0) {\n                for (k = 0; k < oldMatrix[0].length; k++) {\n                    if (column[k] == null) {\n                        column[k] = 0;\n                    }\n                    column[k] += (overlap / newPiece) * oldMatrix[j][k];\n                }\n            }\n        }\n        var intColumn = new Uint8Array(oldMatrix[0].length);\n        var m = void 0;\n        for (m = 0; m < oldMatrix[0].length; m++) {\n            intColumn[m] = column[m];\n        }\n        newMatrix.push(intColumn);\n    }\n    return newMatrix;\n}\nfunction getFrequencies(_a) {\n    var fftSamples = _a.fftSamples, buffer = _a.buffer, length = _a.length, sampleRate = _a.sampleRate, width = _a.width, gradient = _a.gradient;\n    var channelOne = new Float32Array(buffer);\n    var frequencies = [];\n    if (!channelOne) {\n        throw new Error('Web Audio buffer is not available');\n    }\n    var uniqueSamplesPerPx = length / width;\n    var nOverlap = Math.max(0, Math.round(fftSamples - uniqueSamplesPerPx));\n    var fft = new FFT(fftSamples, sampleRate, 'gauss', .05);\n    var currentOffset = 0;\n    while (currentOffset + fftSamples < length) {\n        var segment = channelOne.slice(currentOffset, currentOffset + fftSamples);\n        var spectrum = fft.calculateSpectrum(segment);\n        var array = new Uint8Array(fftSamples / 2);\n        var j = void 0;\n        for (j = 0; j < fftSamples / 2; j++) {\n            array[j] = Math.max(-255, Math.log10(spectrum[j]) * 45);\n        }\n        frequencies.push(array.reverse());\n        currentOffset += fftSamples - nOverlap;\n    }\n    // const resampled = resample(frequencies, width)\n    return [frequencies, makeImage(frequencies, gradient)];\n}\nregisterPromiseWorker(getFrequencies);\n/* harmony default export */ __webpack_exports__[\"default\"] = (null);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZS9nZXQtZnJlcXVlbmNpZXMud29ya2VyLnRzPzA0OGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxJQUFNLHFCQUFxQixHQUFHLG1CQUFPLENBQUMsQ0FBc0MsQ0FBQztBQTBCN0UsSUFBTSxHQUFHLEdBQUcsVUFBb0IsVUFBa0IsRUFBRSxVQUFrQixFQUFFLFVBQWtCLEVBQUUsS0FBYztJQUV4RyxJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztJQUM3QixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztJQUM3QixJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBRXJELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDN0MsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUM3QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2pELElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7SUFFaEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7SUFDbEIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7SUFFZCxRQUFRLFVBQVUsRUFBRTtRQUNoQixLQUFLLFVBQVU7WUFDWCxnREFBZ0Q7WUFDaEQsS0FBSyxJQUFJLEdBQUMsR0FBRyxDQUFDLEVBQUUsR0FBQyxHQUFHLFVBQVUsRUFBRSxHQUFDLEVBQUUsRUFBRTtnQkFDakMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFDLENBQUM7b0JBQ2hCLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDO3dCQUN0QixDQUFDLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUMsR0FBRyxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ25FO1lBQ0QsTUFBTTtRQUNWLEtBQUssY0FBYztZQUNmLGdEQUFnRDtZQUNoRCxLQUFLLElBQUksR0FBQyxHQUFHLENBQUMsRUFBRSxHQUFDLEdBQUcsVUFBVSxFQUFFLEdBQUMsRUFBRSxFQUFFO2dCQUNqQyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUMsQ0FBQztvQkFDaEIsSUFBSTt3QkFDSixJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO3dCQUMzQyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDN0Q7WUFDRCxNQUFNO1FBQ1YsS0FBSyxVQUFVO1lBQ1gsS0FBSyxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUM7WUFDdEIsZ0RBQWdEO1lBQ2hELEtBQUssSUFBSSxHQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUMsR0FBRyxVQUFVLEVBQUUsR0FBQyxFQUFFLEVBQUU7Z0JBQ2pDLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBQyxDQUFDO29CQUNoQixDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDO3dCQUNmLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsR0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLENBQUM7d0JBQ3BELENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQzs0QkFDUCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUMxRDtZQUNELE1BQU07UUFDVixLQUFLLFFBQVE7WUFDVCxnREFBZ0Q7WUFDaEQsS0FBSyxJQUFJLEdBQUMsR0FBRyxDQUFDLEVBQUUsR0FBQyxHQUFHLFVBQVUsRUFBRSxHQUFDLEVBQUUsRUFBRTtnQkFDakMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUMzQixDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQ2pELENBQUM7YUFDTDtZQUNELE1BQU07UUFDVixLQUFLLE9BQU87WUFDUixLQUFLLEdBQUcsS0FBSyxJQUFJLElBQUksQ0FBQztZQUN0QixnREFBZ0Q7WUFDaEQsS0FBSyxJQUFJLEdBQUMsR0FBRyxDQUFDLEVBQUUsR0FBQyxHQUFHLFVBQVUsRUFBRSxHQUFDLEVBQUUsRUFBRTtnQkFDakMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUMzQixJQUFJLENBQUMsQ0FBQyxFQUNOLENBQUMsR0FBRztvQkFDQSxJQUFJLENBQUMsR0FBRyxDQUNKLENBQUMsR0FBQyxHQUFHLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDdEIsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUNwQyxDQUFDLENBQ0osQ0FDUixDQUFDO2FBQ0w7WUFDRCxNQUFNO1FBQ1YsS0FBSyxTQUFTO1lBQ1YsZ0RBQWdEO1lBQ2hELEtBQUssSUFBSSxHQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUMsR0FBRyxVQUFVLEVBQUUsR0FBQyxFQUFFLEVBQUU7Z0JBQ2pDLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBQyxDQUFDO29CQUNoQixDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7d0JBQ2IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDdEQ7WUFDRCxNQUFNO1FBQ1YsS0FBSyxNQUFNLENBQUM7UUFDWixLQUFLLFNBQVM7WUFDVixnREFBZ0Q7WUFDaEQsS0FBSyxJQUFJLEdBQUMsR0FBRyxDQUFDLEVBQUUsR0FBQyxHQUFHLFVBQVUsRUFBRSxHQUFDLEVBQUUsRUFBRTtnQkFDakMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFDLENBQUM7b0JBQ2hCLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEdBQUcsR0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2xFO1lBQ0QsTUFBTTtRQUNWLEtBQUssU0FBUztZQUNWLGdEQUFnRDtZQUNoRCxLQUFLLElBQUksR0FBQyxHQUFHLENBQUMsRUFBRSxHQUFDLEdBQUcsVUFBVSxFQUFFLEdBQUMsRUFBRSxFQUFFO2dCQUNqQyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUMsQ0FBQztvQkFDaEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7d0JBQ3BELENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDcEQ7WUFDRCxNQUFNO1FBQ1YsS0FBSyxhQUFhO1lBQ2QsZ0RBQWdEO1lBQ2hELEtBQUssSUFBSSxHQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUMsR0FBRyxVQUFVLEVBQUUsR0FBQyxFQUFFLEVBQUU7Z0JBQ2pDLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQzVCO1lBQ0QsTUFBTTtRQUNWLEtBQUssWUFBWTtZQUNiLGdEQUFnRDtZQUNoRCxLQUFLLElBQUksSUFBQyxHQUFHLENBQUMsRUFBRSxJQUFDLEdBQUcsVUFBVSxFQUFFLElBQUMsRUFBRSxFQUFFO2dCQUNqQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUMsQ0FBQztvQkFDaEIsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO3dCQUNoQixDQUFDLFVBQVUsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUM3RDtZQUNELE1BQU07UUFDVjtZQUNJLE1BQU0sS0FBSyxDQUFDLDRCQUE0QixHQUFHLFVBQVUsR0FBRyxJQUFJLENBQUM7S0FDcEU7SUFFRCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDZCxzQ0FBc0M7SUFDdEMsSUFBSSxHQUFHLEdBQUcsVUFBVSxJQUFJLENBQUMsQ0FBQztJQUUxQixJQUFJLENBQUMsQ0FBQztJQUVOLE9BQU8sS0FBSyxHQUFHLFVBQVUsRUFBRTtRQUN2QixLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN4QixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztTQUM3RDtRQUVELHNDQUFzQztRQUN0QyxLQUFLLEdBQUcsS0FBSyxJQUFJLENBQUMsQ0FBQztRQUNuQixzQ0FBc0M7UUFDdEMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUM7S0FDbEI7SUFFRCxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUM3QixJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDN0M7SUFFRCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsVUFBUyxNQUFvQjtRQUNsRCx1Q0FBdUM7UUFDdkMsZ0RBQWdEO1FBQ2hELElBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVO1FBQ2xDLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRO1FBQzlCLElBQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRO1FBQzlCLElBQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxZQUFZO1FBQ3RDLElBQU0sSUFBSSxHQUFHLElBQUksWUFBWSxDQUFDLFVBQVUsQ0FBQztRQUN6QyxJQUFNLElBQUksR0FBRyxJQUFJLFlBQVksQ0FBQyxVQUFVLENBQUM7UUFDekMsSUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVO1FBQy9CLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJO1FBQ3RCLElBQUksSUFBSTtRQUNSLElBQUksSUFBSTtRQUNSLElBQUksR0FBRztRQUNQLElBQU0sUUFBUSxHQUFHLElBQUksWUFBWSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVsRCxJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRXRELElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssVUFBVSxFQUFFO1lBQy9CLE1BQU0sSUFBSSxLQUFLLENBQUMsNENBQTRDLENBQUM7U0FDaEU7UUFDRCxJQUFJLFVBQVUsS0FBSyxNQUFNLENBQUMsTUFBTSxFQUFFO1lBQzlCLE1BQU0sSUFBSSxLQUFLLENBQUMsaUVBQWlFO2dCQUMvRSxVQUFVLEdBQUcsZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztTQUNuRDtRQUVELElBQUksUUFBUSxHQUFHLENBQUM7UUFDaEIsSUFBSSxrQkFBa0I7UUFDdEIsSUFBSSxrQkFBa0I7UUFDdEIsSUFBSSxxQkFBcUI7UUFDekIsSUFBSSxxQkFBcUI7UUFDekIsSUFBSSxHQUFHO1FBQ1AsSUFBSSxFQUFFO1FBQ04sSUFBSSxFQUFFO1FBQ04sSUFBSSxPQUFPO1FBRVgsZ0RBQWdEO1FBQ2hELEtBQUssSUFBSSxJQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUMsR0FBRyxVQUFVLEVBQUUsSUFBQyxFQUFFLEVBQUU7WUFDakMsSUFBSSxDQUFDLElBQUMsQ0FBQztnQkFDSCxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsSUFBQyxDQUFDLENBQUMsQ0FBQztZQUNqRSxJQUFJLENBQUMsSUFBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2Y7UUFFRCxPQUFPLFFBQVEsR0FBRyxVQUFVLEVBQUU7WUFDMUIsa0JBQWtCLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3hDLGtCQUFrQixHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUV4QyxxQkFBcUIsR0FBRyxDQUFDLENBQUM7WUFDMUIscUJBQXFCLEdBQUcsQ0FBQyxDQUFDO1lBRTFCLEtBQUssSUFBSSxPQUFPLEdBQUcsQ0FBQyxFQUFFLE9BQU8sR0FBRyxRQUFRLEVBQUUsT0FBTyxFQUFFLEVBQUU7Z0JBQ2pELGdEQUFnRDtnQkFDaEQsSUFBSSxJQUFDLEdBQUcsT0FBTyxDQUFDO2dCQUVoQixPQUFPLElBQUMsR0FBRyxVQUFVLEVBQUU7b0JBQ25CLEdBQUcsR0FBRyxJQUFDLEdBQUcsUUFBUSxDQUFDO29CQUNuQixFQUFFO3dCQUNFLHFCQUFxQixHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7NEJBQ2pDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDdEMsRUFBRTt3QkFDRSxxQkFBcUIsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDOzRCQUNqQyxxQkFBcUIsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBRXRDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO29CQUN6QixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztvQkFDekIsSUFBSSxDQUFDLElBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztvQkFDZCxJQUFJLENBQUMsSUFBQyxDQUFDLElBQUksRUFBRSxDQUFDO29CQUVkLHNDQUFzQztvQkFDdEMsSUFBQyxJQUFJLFFBQVEsSUFBSSxDQUFDO2lCQUNyQjtnQkFFRCxPQUFPLEdBQUcscUJBQXFCLENBQUM7Z0JBQ2hDLHFCQUFxQjtvQkFDakIsT0FBTyxHQUFHLGtCQUFrQjt3QkFDNUIscUJBQXFCLEdBQUcsa0JBQWtCLENBQUM7Z0JBQy9DLHFCQUFxQjtvQkFDakIsT0FBTyxHQUFHLGtCQUFrQjt3QkFDNUIscUJBQXFCLEdBQUcsa0JBQWtCLENBQUM7YUFDbEQ7WUFFRCxzQ0FBc0M7WUFDdEMsUUFBUSxHQUFHLFFBQVEsSUFBSSxDQUFDO1NBQzNCO1FBRUQsZ0RBQWdEO1FBQ2hELEtBQUssSUFBSSxJQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLEdBQUcsQ0FBQyxFQUFFLElBQUMsR0FBRyxDQUFDLEVBQUUsSUFBQyxFQUFFLEVBQUU7WUFDNUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFDLENBQUMsQ0FBQztZQUNmLElBQUksR0FBRyxJQUFJLENBQUMsSUFBQyxDQUFDLENBQUM7WUFDZixHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQztZQUU1QyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUNqQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUMsQ0FBQztnQkFDbEIsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUM7YUFDbkI7WUFDRCxRQUFRLENBQUMsSUFBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQ3JCO1FBQ0QsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztBQUNILENBQXFHO0FBRXJHLG1CQUFtQixDQUFlLEVBQUUsUUFBb0I7SUFDdEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLFFBQVEsWUFBRSxDQUFDO0lBQ3pCLElBQU0sS0FBSyxHQUFHLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUNsRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM3QyxJQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztRQUNmLElBQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTTtRQUN0QixJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDO1FBQ2xDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUc7UUFDOUMsMEJBQTBCO1FBQzFCLDBCQUEwQjtRQUMxQiwwQkFBMEI7UUFDMUIsOEJBQThCO0tBQy9CO0lBQ0QsT0FBTyxLQUFLO0FBQ2QsQ0FBQztBQUVELGtCQUFrQixTQUF1QixFQUFFLEtBQWE7SUFDdEQsSUFBTSxhQUFhLEdBQUcsS0FBSztJQUMzQixJQUFNLFNBQVMsR0FBRyxFQUFFO0lBRXBCLElBQU0sUUFBUSxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTTtJQUNyQyxJQUFNLFFBQVEsR0FBRyxDQUFDLEdBQUcsYUFBYTtJQUNsQyxJQUFJLENBQUMsQ0FBQztJQUVOLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsYUFBYSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ2xDLElBQU0sTUFBTSxHQUFHLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsVUFBQztRQUVOLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNyQyxJQUFNLFFBQVEsR0FBRyxDQUFDLEdBQUcsUUFBUSxDQUFDO1lBQzlCLElBQU0sTUFBTSxHQUFHLFFBQVEsR0FBRyxRQUFRLENBQUM7WUFDbkMsSUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFHLFFBQVEsQ0FBQztZQUM5QixJQUFNLE1BQU0sR0FBRyxRQUFRLEdBQUcsUUFBUSxDQUFDO1lBRW5DLElBQU0sT0FBTyxHQUFHLE1BQU0sSUFBSSxRQUFRLElBQUksTUFBTSxJQUFJLFFBQVE7Z0JBQ3RELENBQUMsQ0FBQyxDQUFDO2dCQUNILENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUNKLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxFQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FDN0I7b0JBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FDSixJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsRUFDMUIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQzdCLENBQUM7WUFDTixJQUFJLENBQUMsVUFBQztZQUNOLDhCQUE4QjtZQUM5QixJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUU7Z0JBQ2YsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO29CQUN4QyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUU7d0JBQ3JCLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7cUJBQ2Y7b0JBQ0QsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDckQ7YUFDRjtTQUNGO1FBQ0QsSUFBTSxTQUFTLEdBQUcsSUFBSSxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3RELElBQUksQ0FBQyxVQUFDO1FBRU4sS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3hDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDMUI7UUFDRCxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0tBQzNCO0lBRUQsT0FBTyxTQUFTLENBQUM7QUFDbkIsQ0FBQztBQUVELHdCQUF3QixFQU92QjtRQVB3QiwwQkFBVSxFQUFFLGtCQUFNLEVBQUUsa0JBQU0sRUFBRSwwQkFBVSxFQUFFLGdCQUFLLEVBQUUsc0JBQVE7SUFROUUsSUFBTSxVQUFVLEdBQUcsSUFBSSxZQUFZLENBQUMsTUFBTSxDQUFDO0lBQzNDLElBQU0sV0FBVyxHQUFHLEVBQUU7SUFFdEIsSUFBSSxDQUFDLFVBQVUsRUFBRTtRQUNmLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLENBQUM7S0FDckQ7SUFFRCxJQUFNLGtCQUFrQixHQUFHLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDMUMsSUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsa0JBQWtCLENBQUMsQ0FBQztJQUV6RSxJQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxVQUFVLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUM7SUFDekQsSUFBSSxhQUFhLEdBQUcsQ0FBQztJQUVyQixPQUFPLGFBQWEsR0FBRyxVQUFVLEdBQUcsTUFBTSxFQUFFO1FBQzFDLElBQU0sT0FBTyxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFLGFBQWEsR0FBRyxVQUFVLENBQUM7UUFDM0UsSUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQztRQUMvQyxJQUFNLEtBQUssR0FBRyxJQUFJLFVBQVUsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQztRQUNMLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztTQUMxRDtRQUNELFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2pDLGFBQWEsSUFBSSxVQUFVLEdBQUcsUUFBUTtLQUN2QztJQUNELGlEQUFpRDtJQUNqRCxPQUFPLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxXQUFXLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDeEQsQ0FBQztBQUVELHFCQUFxQixDQUFDLGNBQWMsQ0FBQztBQUVyQywrREFBZSxJQUFXIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZWdpc3RlclByb21pc2VXb3JrZXIgPSByZXF1aXJlKCdwcm9taXNlLXdvcmtlci10cmFuc2ZlcmFibGUvcmVnaXN0ZXInKVxuLy8gaW1wb3J0IHsgaGVhdE1hcCB9IGZyb20gJy4vaGVhdC1tYXAnXG5cbi8vIC8vIHRzbGludDpkaXNhYmxlOm5vLWJpdHdpc2Vcbi8vIGNvbnN0IGhlYXRNYXBSZ2IgPSBoZWF0TWFwLm1hcCgoaGV4KSA9PiB7XG4vLyAgIGNvbnN0IGJpZ2ludCA9IHBhcnNlSW50KGhleCwgMTYpXG4vLyAgIHJldHVybiBbXG4vLyAgICAgKGJpZ2ludCA+PiAxNikgJiAyNTUsXG4vLyAgICAgKGJpZ2ludCA+PiA4KSAmIDI1NSxcbi8vICAgICBiaWdpbnQgJiAyNTVcbi8vICAgXVxuLy8gfSlcblxuaW50ZXJmYWNlIEZGVCB7XG4gIGJ1ZmZlclNpemU6IG51bWJlclxuICBzYW1wbGVSYXRlOiBudW1iZXJcbiAgYmFuZHdpZHRoOiBudW1iZXJcbiAgc2luVGFibGU6IEZsb2F0MzJBcnJheVxuICBjb3NUYWJsZTogRmxvYXQzMkFycmF5XG4gIHdpbmRvd1ZhbHVlczogRmxvYXQzMkFycmF5XG4gIHJldmVyc2VUYWJsZTogVWludDMyQXJyYXlcbiAgcGVha0JhbmQ6IG51bWJlclxuICBwZWFrOiBudW1iZXJcbiAgY2FsY3VsYXRlU3BlY3RydW0oYnVmZmVyOiBGbG9hdDMyQXJyYXkpOiBGbG9hdDMyQXJyYXlcbn1cblxuY29uc3QgRkZUID0gZnVuY3Rpb24odGhpczogRkZULCBidWZmZXJTaXplOiBudW1iZXIsIHNhbXBsZVJhdGU6IG51bWJlciwgd2luZG93RnVuYzogc3RyaW5nLCBhbHBoYT86IG51bWJlcikge1xuXG4gIHRoaXMuYnVmZmVyU2l6ZSA9IGJ1ZmZlclNpemU7XG4gIHRoaXMuc2FtcGxlUmF0ZSA9IHNhbXBsZVJhdGU7XG4gIHRoaXMuYmFuZHdpZHRoID0gKDIgLyBidWZmZXJTaXplKSAqIChzYW1wbGVSYXRlIC8gMik7XG5cbiAgdGhpcy5zaW5UYWJsZSA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyU2l6ZSk7XG4gIHRoaXMuY29zVGFibGUgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlclNpemUpO1xuICB0aGlzLndpbmRvd1ZhbHVlcyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyU2l6ZSk7XG4gIHRoaXMucmV2ZXJzZVRhYmxlID0gbmV3IFVpbnQzMkFycmF5KGJ1ZmZlclNpemUpO1xuXG4gIHRoaXMucGVha0JhbmQgPSAwO1xuICB0aGlzLnBlYWsgPSAwO1xuXG4gIHN3aXRjaCAod2luZG93RnVuYykge1xuICAgICAgY2FzZSAnYmFydGxldHQnOlxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMud2luZG93VmFsdWVzW2ldID1cbiAgICAgICAgICAgICAgICAgICgyIC8gKGJ1ZmZlclNpemUgLSAxKSkgKlxuICAgICAgICAgICAgICAgICAgKChidWZmZXJTaXplIC0gMSkgLyAyIC0gTWF0aC5hYnMoaSAtIChidWZmZXJTaXplIC0gMSkgLyAyKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYmFydGxldHRIYW5uJzpcbiAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGVcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlclNpemU7IGkrKykge1xuICAgICAgICAgICAgICB0aGlzLndpbmRvd1ZhbHVlc1tpXSA9XG4gICAgICAgICAgICAgICAgICAwLjYyIC1cbiAgICAgICAgICAgICAgICAgIDAuNDggKiBNYXRoLmFicyhpIC8gKGJ1ZmZlclNpemUgLSAxKSAtIDAuNSkgLVxuICAgICAgICAgICAgICAgICAgMC4zOCAqIE1hdGguY29zKChNYXRoLlBJICogMiAqIGkpIC8gKGJ1ZmZlclNpemUgLSAxKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYmxhY2ttYW4nOlxuICAgICAgICAgIGFscGhhID0gYWxwaGEgfHwgMC4xNjtcbiAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGVcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlclNpemU7IGkrKykge1xuICAgICAgICAgICAgICB0aGlzLndpbmRvd1ZhbHVlc1tpXSA9XG4gICAgICAgICAgICAgICAgICAoMSAtIGFscGhhKSAvIDIgLVxuICAgICAgICAgICAgICAgICAgMC41ICogTWF0aC5jb3MoKE1hdGguUEkgKiAyICogaSkgLyAoYnVmZmVyU2l6ZSAtIDEpKSArXG4gICAgICAgICAgICAgICAgICAoYWxwaGEgLyAyKSAqXG4gICAgICAgICAgICAgICAgICAgICAgTWF0aC5jb3MoKDQgKiBNYXRoLlBJICogaSkgLyAoYnVmZmVyU2l6ZSAtIDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjb3NpbmUnOlxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMud2luZG93VmFsdWVzW2ldID0gTWF0aC5jb3MoXG4gICAgICAgICAgICAgICAgICAoTWF0aC5QSSAqIGkpIC8gKGJ1ZmZlclNpemUgLSAxKSAtIE1hdGguUEkgLyAyXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZ2F1c3MnOlxuICAgICAgICAgIGFscGhhID0gYWxwaGEgfHwgMC4yNTtcbiAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGVcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlclNpemU7IGkrKykge1xuICAgICAgICAgICAgICB0aGlzLndpbmRvd1ZhbHVlc1tpXSA9IE1hdGgucG93KFxuICAgICAgICAgICAgICAgICAgTWF0aC5FLFxuICAgICAgICAgICAgICAgICAgLTAuNSAqXG4gICAgICAgICAgICAgICAgICAgICAgTWF0aC5wb3coXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChpIC0gKGJ1ZmZlclNpemUgLSAxKSAvIDIpIC9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoYWxwaGEgKiAoYnVmZmVyU2l6ZSAtIDEpKSAvIDIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2hhbW1pbmcnOlxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMud2luZG93VmFsdWVzW2ldID1cbiAgICAgICAgICAgICAgICAgICgwLjU0IC0gMC40NikgKlxuICAgICAgICAgICAgICAgICAgTWF0aC5jb3MoKE1hdGguUEkgKiAyICogaSkgLyAoYnVmZmVyU2l6ZSAtIDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoYW5uJzpcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMud2luZG93VmFsdWVzW2ldID1cbiAgICAgICAgICAgICAgICAgIDAuNSAqICgxIC0gTWF0aC5jb3MoKE1hdGguUEkgKiAyICogaSkgLyAoYnVmZmVyU2l6ZSAtIDEpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGFuY3pveic6XG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgdGhpcy53aW5kb3dWYWx1ZXNbaV0gPVxuICAgICAgICAgICAgICAgICAgTWF0aC5zaW4oTWF0aC5QSSAqICgoMiAqIGkpIC8gKGJ1ZmZlclNpemUgLSAxKSAtIDEpKSAvXG4gICAgICAgICAgICAgICAgICAoTWF0aC5QSSAqICgoMiAqIGkpIC8gKGJ1ZmZlclNpemUgLSAxKSAtIDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWN0YW5ndWxhcic6XG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgdGhpcy53aW5kb3dWYWx1ZXNbaV0gPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RyaWFuZ3VsYXInOlxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMud2luZG93VmFsdWVzW2ldID1cbiAgICAgICAgICAgICAgICAgICgyIC8gYnVmZmVyU2l6ZSkgKlxuICAgICAgICAgICAgICAgICAgKGJ1ZmZlclNpemUgLyAyIC0gTWF0aC5hYnMoaSAtIChidWZmZXJTaXplIC0gMSkgLyAyKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBFcnJvcignTm8gc3VjaCB3aW5kb3cgZnVuY3Rpb24gXFwnJyArIHdpbmRvd0Z1bmMgKyAnXFwnJylcbiAgfVxuXG4gIGxldCBsaW1pdCA9IDE7XG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1iaXR3aXNlXG4gIGxldCBiaXQgPSBidWZmZXJTaXplID4+IDE7XG5cbiAgbGV0IGk7XG5cbiAgd2hpbGUgKGxpbWl0IDwgYnVmZmVyU2l6ZSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxpbWl0OyBpKyspIHtcbiAgICAgICAgICB0aGlzLnJldmVyc2VUYWJsZVtpICsgbGltaXRdID0gdGhpcy5yZXZlcnNlVGFibGVbaV0gKyBiaXQ7XG4gICAgICB9XG5cbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1iaXR3aXNlXG4gICAgICBsaW1pdCA9IGxpbWl0IDw8IDE7XG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYml0d2lzZVxuICAgICAgYml0ID0gYml0ID4+IDE7XG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgYnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICB0aGlzLnNpblRhYmxlW2ldID0gTWF0aC5zaW4oLU1hdGguUEkgLyBpKTtcbiAgICAgIHRoaXMuY29zVGFibGVbaV0gPSBNYXRoLmNvcygtTWF0aC5QSSAvIGkpO1xuICB9XG5cbiAgdGhpcy5jYWxjdWxhdGVTcGVjdHJ1bSA9IGZ1bmN0aW9uKGJ1ZmZlcjogRmxvYXQzMkFycmF5KSB7XG4gICAgICAvLyBMb2NhbGx5IHNjb3BlIHZhcmlhYmxlcyBmb3Igc3BlZWQgdXBcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgY29uc3QgYnVmZmVyU2l6ZSA9IHRoaXMuYnVmZmVyU2l6ZVxuICAgICAgY29uc3QgY29zVGFibGUgPSB0aGlzLmNvc1RhYmxlXG4gICAgICBjb25zdCBzaW5UYWJsZSA9IHRoaXMuc2luVGFibGVcbiAgICAgIGNvbnN0IHJldmVyc2VUYWJsZSA9IHRoaXMucmV2ZXJzZVRhYmxlXG4gICAgICBjb25zdCByZWFsID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXJTaXplKVxuICAgICAgY29uc3QgaW1hZyA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyU2l6ZSlcbiAgICAgIGNvbnN0IGJTaSA9IDIgLyB0aGlzLmJ1ZmZlclNpemVcbiAgICAgIGNvbnN0IHNxcnQgPSBNYXRoLnNxcnRcbiAgICAgIGxldCBydmFsXG4gICAgICBsZXQgaXZhbFxuICAgICAgbGV0IG1hZ1xuICAgICAgY29uc3Qgc3BlY3RydW0gPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlclNpemUgLyAyKTtcblxuICAgICAgY29uc3QgayA9IE1hdGguZmxvb3IoTWF0aC5sb2coYnVmZmVyU2l6ZSkgLyBNYXRoLkxOMik7XG5cbiAgICAgIGlmIChNYXRoLnBvdygyLCBrKSAhPT0gYnVmZmVyU2l6ZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBidWZmZXIgc2l6ZSwgbXVzdCBiZSBhIHBvd2VyIG9mIDIuJylcbiAgICAgIH1cbiAgICAgIGlmIChidWZmZXJTaXplICE9PSBidWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBwbGllZCBidWZmZXIgaXMgbm90IHRoZSBzYW1lIHNpemUgYXMgZGVmaW5lZCBGRlQuIEZGVCBTaXplOiAnICtcbiAgICAgICAgICAgIGJ1ZmZlclNpemUgKyAnIEJ1ZmZlciBTaXplOiAnICsgYnVmZmVyLmxlbmd0aClcbiAgICAgIH1cblxuICAgICAgbGV0IGhhbGZTaXplID0gMVxuICAgICAgbGV0IHBoYXNlU2hpZnRTdGVwUmVhbFxuICAgICAgbGV0IHBoYXNlU2hpZnRTdGVwSW1hZ1xuICAgICAgbGV0IGN1cnJlbnRQaGFzZVNoaWZ0UmVhbFxuICAgICAgbGV0IGN1cnJlbnRQaGFzZVNoaWZ0SW1hZ1xuICAgICAgbGV0IG9mZlxuICAgICAgbGV0IHRyXG4gICAgICBsZXQgdGlcbiAgICAgIGxldCB0bXBSZWFsXG5cbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJTaXplOyBpKyspIHtcbiAgICAgICAgICByZWFsW2ldID1cbiAgICAgICAgICAgICAgYnVmZmVyW3JldmVyc2VUYWJsZVtpXV0gKiB0aGlzLndpbmRvd1ZhbHVlc1tyZXZlcnNlVGFibGVbaV1dO1xuICAgICAgICAgIGltYWdbaV0gPSAwO1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAoaGFsZlNpemUgPCBidWZmZXJTaXplKSB7XG4gICAgICAgICAgcGhhc2VTaGlmdFN0ZXBSZWFsID0gY29zVGFibGVbaGFsZlNpemVdO1xuICAgICAgICAgIHBoYXNlU2hpZnRTdGVwSW1hZyA9IHNpblRhYmxlW2hhbGZTaXplXTtcblxuICAgICAgICAgIGN1cnJlbnRQaGFzZVNoaWZ0UmVhbCA9IDE7XG4gICAgICAgICAgY3VycmVudFBoYXNlU2hpZnRJbWFnID0gMDtcblxuICAgICAgICAgIGZvciAobGV0IGZmdFN0ZXAgPSAwOyBmZnRTdGVwIDwgaGFsZlNpemU7IGZmdFN0ZXArKykge1xuICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGVcbiAgICAgICAgICAgICAgbGV0IGkgPSBmZnRTdGVwO1xuXG4gICAgICAgICAgICAgIHdoaWxlIChpIDwgYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgb2ZmID0gaSArIGhhbGZTaXplO1xuICAgICAgICAgICAgICAgICAgdHIgPVxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQaGFzZVNoaWZ0UmVhbCAqIHJlYWxbb2ZmXSAtXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBoYXNlU2hpZnRJbWFnICogaW1hZ1tvZmZdO1xuICAgICAgICAgICAgICAgICAgdGkgPVxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQaGFzZVNoaWZ0UmVhbCAqIGltYWdbb2ZmXSArXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBoYXNlU2hpZnRJbWFnICogcmVhbFtvZmZdO1xuXG4gICAgICAgICAgICAgICAgICByZWFsW29mZl0gPSByZWFsW2ldIC0gdHI7XG4gICAgICAgICAgICAgICAgICBpbWFnW29mZl0gPSBpbWFnW2ldIC0gdGk7XG4gICAgICAgICAgICAgICAgICByZWFsW2ldICs9IHRyO1xuICAgICAgICAgICAgICAgICAgaW1hZ1tpXSArPSB0aTtcblxuICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICAgICAgICAgIGkgKz0gaGFsZlNpemUgPDwgMVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdG1wUmVhbCA9IGN1cnJlbnRQaGFzZVNoaWZ0UmVhbDtcbiAgICAgICAgICAgICAgY3VycmVudFBoYXNlU2hpZnRSZWFsID1cbiAgICAgICAgICAgICAgICAgIHRtcFJlYWwgKiBwaGFzZVNoaWZ0U3RlcFJlYWwgLVxuICAgICAgICAgICAgICAgICAgY3VycmVudFBoYXNlU2hpZnRJbWFnICogcGhhc2VTaGlmdFN0ZXBJbWFnO1xuICAgICAgICAgICAgICBjdXJyZW50UGhhc2VTaGlmdEltYWcgPVxuICAgICAgICAgICAgICAgICAgdG1wUmVhbCAqIHBoYXNlU2hpZnRTdGVwSW1hZyArXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UGhhc2VTaGlmdEltYWcgKiBwaGFzZVNoaWZ0U3RlcFJlYWw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWJpdHdpc2VcbiAgICAgICAgICBoYWxmU2l6ZSA9IGhhbGZTaXplIDw8IDFcbiAgICAgIH1cblxuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgICBmb3IgKGxldCBpID0gMCwgTiA9IGJ1ZmZlclNpemUgLyAyOyBpIDwgTjsgaSsrKSB7XG4gICAgICAgICAgcnZhbCA9IHJlYWxbaV07XG4gICAgICAgICAgaXZhbCA9IGltYWdbaV07XG4gICAgICAgICAgbWFnID0gYlNpICogc3FydChydmFsICogcnZhbCArIGl2YWwgKiBpdmFsKTtcblxuICAgICAgICAgIGlmIChtYWcgPiB0aGlzLnBlYWspIHtcbiAgICAgICAgICAgICAgdGhpcy5wZWFrQmFuZCA9IGk7XG4gICAgICAgICAgICAgIHRoaXMucGVhayA9IG1hZztcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BlY3RydW1baV0gPSBtYWc7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3BlY3RydW07XG4gIH1cbn0gYXMgYW55IGFzIHsgbmV3IChidWZmZXJTaXplOiBudW1iZXIsIHNhbXBsZVJhdGU6IG51bWJlciwgd2luZG93RnVuYzogc3RyaW5nLCBhbHBoYT86IG51bWJlcik6IEZGVCB9XG5cbmZ1bmN0aW9uIG1ha2VJbWFnZShmOiBVaW50OEFycmF5W10sIGdyYWRpZW50OiBudW1iZXJbXVtdKSB7XG4gIGNvbnNvbGUubG9nKHsgZ3JhZGllbnQgfSlcbiAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2VEYXRhKGYubGVuZ3RoLCBmWzBdLmxlbmd0aClcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZS5kYXRhLmxlbmd0aDsgaSArPSA0KSB7XG4gICAgY29uc3QgaiA9IGkgLyA0XG4gICAgY29uc3QgeCA9IGogJSBmLmxlbmd0aFxuICAgIGNvbnN0IHkgPSBNYXRoLmZsb29yKGogLyBmLmxlbmd0aClcbiAgICBpbWFnZS5kYXRhW2ldICAgICA9IGdyYWRpZW50W2ZbeF1beV1dWzBdXG4gICAgaW1hZ2UuZGF0YVtpICsgMV0gPSBncmFkaWVudFtmW3hdW3ldXVsxXVxuICAgIGltYWdlLmRhdGFbaSArIDJdID0gZ3JhZGllbnRbZlt4XVt5XV1bMl1cbiAgICBpbWFnZS5kYXRhW2kgKyAzXSA9IGdyYWRpZW50W2ZbeF1beV1dWzNdICogMjU1XG4gICAgLy8gaW1hZ2UuZGF0YVtpXSAgICAgPSAyNTVcbiAgICAvLyBpbWFnZS5kYXRhW2kgKyAxXSA9IDI1NVxuICAgIC8vIGltYWdlLmRhdGFbaSArIDJdID0gMjU1XG4gICAgLy8gaW1hZ2UuZGF0YVtpICsgM10gPSBmW3hdW3ldXG4gIH1cbiAgcmV0dXJuIGltYWdlXG59XG5cbmZ1bmN0aW9uIHJlc2FtcGxlKG9sZE1hdHJpeDogVWludDhBcnJheVtdLCB3aWR0aDogbnVtYmVyKSB7XG4gIGNvbnN0IGNvbHVtbnNOdW1iZXIgPSB3aWR0aFxuICBjb25zdCBuZXdNYXRyaXggPSBbXVxuXG4gIGNvbnN0IG9sZFBpZWNlID0gMSAvIG9sZE1hdHJpeC5sZW5ndGhcbiAgY29uc3QgbmV3UGllY2UgPSAxIC8gY29sdW1uc051bWJlclxuICBsZXQgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgY29sdW1uc051bWJlcjsgaSsrKSB7XG4gICAgY29uc3QgY29sdW1uID0gbmV3IEFycmF5KG9sZE1hdHJpeFswXS5sZW5ndGgpO1xuICAgIGxldCBqO1xuXG4gICAgZm9yIChqID0gMDsgaiA8IG9sZE1hdHJpeC5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3Qgb2xkU3RhcnQgPSBqICogb2xkUGllY2U7XG4gICAgICBjb25zdCBvbGRFbmQgPSBvbGRTdGFydCArIG9sZFBpZWNlO1xuICAgICAgY29uc3QgbmV3U3RhcnQgPSBpICogbmV3UGllY2U7XG4gICAgICBjb25zdCBuZXdFbmQgPSBuZXdTdGFydCArIG5ld1BpZWNlO1xuXG4gICAgICBjb25zdCBvdmVybGFwID0gb2xkRW5kIDw9IG5ld1N0YXJ0IHx8IG5ld0VuZCA8PSBvbGRTdGFydFxuICAgICAgICA/IDBcbiAgICAgICAgOiBNYXRoLm1pbihcbiAgICAgICAgICAgICAgTWF0aC5tYXgob2xkRW5kLCBuZXdTdGFydCksXG4gICAgICAgICAgICAgIE1hdGgubWF4KG5ld0VuZCwgb2xkU3RhcnQpXG4gICAgICAgICAgKSAtXG4gICAgICAgICAgTWF0aC5tYXgoXG4gICAgICAgICAgICAgIE1hdGgubWluKG9sZEVuZCwgbmV3U3RhcnQpLFxuICAgICAgICAgICAgICBNYXRoLm1pbihuZXdFbmQsIG9sZFN0YXJ0KVxuICAgICAgICAgICk7XG4gICAgICBsZXQgaztcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1kZXB0aCAqL1xuICAgICAgaWYgKG92ZXJsYXAgPiAwKSB7XG4gICAgICAgIGZvciAoayA9IDA7IGsgPCBvbGRNYXRyaXhbMF0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICBpZiAoY29sdW1uW2tdID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbHVtbltrXSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbHVtbltrXSArPSAob3ZlcmxhcCAvIG5ld1BpZWNlKSAqIG9sZE1hdHJpeFtqXVtrXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbnRDb2x1bW4gPSBuZXcgVWludDhBcnJheShvbGRNYXRyaXhbMF0ubGVuZ3RoKTtcbiAgICBsZXQgbTtcblxuICAgIGZvciAobSA9IDA7IG0gPCBvbGRNYXRyaXhbMF0ubGVuZ3RoOyBtKyspIHtcbiAgICAgIGludENvbHVtblttXSA9IGNvbHVtblttXTtcbiAgICB9XG4gICAgbmV3TWF0cml4LnB1c2goaW50Q29sdW1uKTtcbiAgfVxuXG4gIHJldHVybiBuZXdNYXRyaXg7XG59XG5cbmZ1bmN0aW9uIGdldEZyZXF1ZW5jaWVzKHtmZnRTYW1wbGVzLCBidWZmZXIsIGxlbmd0aCwgc2FtcGxlUmF0ZSwgd2lkdGgsIGdyYWRpZW50fToge1xuICBmZnRTYW1wbGVzOiBudW1iZXIsXG4gIGJ1ZmZlcjogQXJyYXlCdWZmZXIsXG4gIGxlbmd0aDogbnVtYmVyLFxuICBzYW1wbGVSYXRlOiBudW1iZXIsXG4gIHdpZHRoOiBudW1iZXIsXG4gIGdyYWRpZW50OiBudW1iZXJbXVtdXG59KSB7XG4gIGNvbnN0IGNoYW5uZWxPbmUgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcilcbiAgY29uc3QgZnJlcXVlbmNpZXMgPSBbXVxuXG4gIGlmICghY2hhbm5lbE9uZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignV2ViIEF1ZGlvIGJ1ZmZlciBpcyBub3QgYXZhaWxhYmxlJylcbiAgfVxuXG4gIGNvbnN0IHVuaXF1ZVNhbXBsZXNQZXJQeCA9IGxlbmd0aCAvIHdpZHRoO1xuICBjb25zdCBuT3ZlcmxhcCA9IE1hdGgubWF4KDAsIE1hdGgucm91bmQoZmZ0U2FtcGxlcyAtIHVuaXF1ZVNhbXBsZXNQZXJQeCkpXG5cbiAgY29uc3QgZmZ0ID0gbmV3IEZGVChmZnRTYW1wbGVzLCBzYW1wbGVSYXRlLCAnZ2F1c3MnLCAuMDUpXG4gIGxldCBjdXJyZW50T2Zmc2V0ID0gMFxuXG4gIHdoaWxlIChjdXJyZW50T2Zmc2V0ICsgZmZ0U2FtcGxlcyA8IGxlbmd0aCkge1xuICAgIGNvbnN0IHNlZ21lbnQgPSBjaGFubmVsT25lLnNsaWNlKGN1cnJlbnRPZmZzZXQsIGN1cnJlbnRPZmZzZXQgKyBmZnRTYW1wbGVzKVxuICAgIGNvbnN0IHNwZWN0cnVtID0gZmZ0LmNhbGN1bGF0ZVNwZWN0cnVtKHNlZ21lbnQpXG4gICAgY29uc3QgYXJyYXkgPSBuZXcgVWludDhBcnJheShmZnRTYW1wbGVzIC8gMilcbiAgICBsZXQgalxuICAgIGZvciAoaiA9IDA7IGogPCBmZnRTYW1wbGVzIC8gMjsgaisrKSB7XG4gICAgICAgIGFycmF5W2pdID0gTWF0aC5tYXgoLTI1NSwgTWF0aC5sb2cxMChzcGVjdHJ1bVtqXSkgKiA0NSlcbiAgICB9XG4gICAgZnJlcXVlbmNpZXMucHVzaChhcnJheS5yZXZlcnNlKCkpXG4gICAgY3VycmVudE9mZnNldCArPSBmZnRTYW1wbGVzIC0gbk92ZXJsYXBcbiAgfVxuICAvLyBjb25zdCByZXNhbXBsZWQgPSByZXNhbXBsZShmcmVxdWVuY2llcywgd2lkdGgpXG4gIHJldHVybiBbZnJlcXVlbmNpZXMsIG1ha2VJbWFnZShmcmVxdWVuY2llcywgZ3JhZGllbnQpXVxufVxuXG5yZWdpc3RlclByb21pc2VXb3JrZXIoZ2V0RnJlcXVlbmNpZXMpXG5cbmV4cG9ydCBkZWZhdWx0IG51bGwgYXMgYW55XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvc2VydmljZS9nZXQtZnJlcXVlbmNpZXMud29ya2VyLnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ })
/******/ ]);
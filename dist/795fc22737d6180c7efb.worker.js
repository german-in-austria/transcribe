/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/dist/";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 1);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction isPromise (obj) {\n  // via https://unpkg.com/is-promise@2.1.0/index.js\n  return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function'\n}\n\nfunction registerPromiseWorker (callback) {\n  function postOutgoingMessage (e, messageId, error, result) {\n    function postMessage (msg) {\n      /* istanbul ignore if */\n      if (typeof self.postMessage !== 'function') { // service worker\n        e.ports[0].postMessage(msg)\n      } else { // web worker\n        self.postMessage(msg)\n      }\n    }\n    if (error) {\n      /* istanbul ignore else */\n      if (typeof console !== 'undefined' && 'error' in console) {\n        // This is to make errors easier to debug. I think it's important\n        // enough to just leave here without giving the user an option\n        // to silence it.\n        console.error('Worker caught an error:', error)\n      }\n      postMessage([messageId, {\n        message: error.message\n      }])\n    } else {\n      postMessage([messageId, null, result])\n    }\n  }\n\n  function tryCatchFunc (callback, message) {\n    try {\n      return { res: callback(message) }\n    } catch (e) {\n      return { err: e }\n    }\n  }\n\n  function handleIncomingMessage (e, callback, messageId, message) {\n    var result = tryCatchFunc(callback, message)\n\n    if (result.err) {\n      postOutgoingMessage(e, messageId, result.err)\n    } else if (!isPromise(result.res)) {\n      postOutgoingMessage(e, messageId, null, result.res)\n    } else {\n      result.res.then(function (finalResult) {\n        postOutgoingMessage(e, messageId, null, finalResult)\n      }, function (finalError) {\n        postOutgoingMessage(e, messageId, finalError)\n      })\n    }\n  }\n\n  function onIncomingMessage (e) {\n    var payload = e.data\n    if (!Array.isArray(payload) || payload.length !== 2) {\n      // message doens't match communication format; ignore\n      return\n    }\n    var messageId = payload[0]\n    var message = payload[1]\n\n    if (typeof callback !== 'function') {\n      postOutgoingMessage(e, messageId, new Error(\n        'Please pass a function into register().'))\n    } else {\n      handleIncomingMessage(e, callback, messageId, message)\n    }\n  }\n\n  self.addEventListener('message', onIncomingMessage)\n}\n\nmodule.exports = registerPromiseWorker\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3Byb21pc2Utd29ya2VyL3JlZ2lzdGVyLmpzPzU2MWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQSxPQUFPLE9BQU87QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsS0FBSztBQUNMLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIGlzUHJvbWlzZSAob2JqKSB7XG4gIC8vIHZpYSBodHRwczovL3VucGtnLmNvbS9pcy1wcm9taXNlQDIuMS4wL2luZGV4LmpzXG4gIHJldHVybiAhIW9iaiAmJiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykgJiYgdHlwZW9mIG9iai50aGVuID09PSAnZnVuY3Rpb24nXG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyUHJvbWlzZVdvcmtlciAoY2FsbGJhY2spIHtcbiAgZnVuY3Rpb24gcG9zdE91dGdvaW5nTWVzc2FnZSAoZSwgbWVzc2FnZUlkLCBlcnJvciwgcmVzdWx0KSB7XG4gICAgZnVuY3Rpb24gcG9zdE1lc3NhZ2UgKG1zZykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAodHlwZW9mIHNlbGYucG9zdE1lc3NhZ2UgIT09ICdmdW5jdGlvbicpIHsgLy8gc2VydmljZSB3b3JrZXJcbiAgICAgICAgZS5wb3J0c1swXS5wb3N0TWVzc2FnZShtc2cpXG4gICAgICB9IGVsc2UgeyAvLyB3ZWIgd29ya2VyXG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2UobXNnKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmICdlcnJvcicgaW4gY29uc29sZSkge1xuICAgICAgICAvLyBUaGlzIGlzIHRvIG1ha2UgZXJyb3JzIGVhc2llciB0byBkZWJ1Zy4gSSB0aGluayBpdCdzIGltcG9ydGFudFxuICAgICAgICAvLyBlbm91Z2ggdG8ganVzdCBsZWF2ZSBoZXJlIHdpdGhvdXQgZ2l2aW5nIHRoZSB1c2VyIGFuIG9wdGlvblxuICAgICAgICAvLyB0byBzaWxlbmNlIGl0LlxuICAgICAgICBjb25zb2xlLmVycm9yKCdXb3JrZXIgY2F1Z2h0IGFuIGVycm9yOicsIGVycm9yKVxuICAgICAgfVxuICAgICAgcG9zdE1lc3NhZ2UoW21lc3NhZ2VJZCwge1xuICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XSlcbiAgICB9IGVsc2Uge1xuICAgICAgcG9zdE1lc3NhZ2UoW21lc3NhZ2VJZCwgbnVsbCwgcmVzdWx0XSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlDYXRjaEZ1bmMgKGNhbGxiYWNrLCBtZXNzYWdlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7IHJlczogY2FsbGJhY2sobWVzc2FnZSkgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB7IGVycjogZSB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSW5jb21pbmdNZXNzYWdlIChlLCBjYWxsYmFjaywgbWVzc2FnZUlkLCBtZXNzYWdlKSB7XG4gICAgdmFyIHJlc3VsdCA9IHRyeUNhdGNoRnVuYyhjYWxsYmFjaywgbWVzc2FnZSlcblxuICAgIGlmIChyZXN1bHQuZXJyKSB7XG4gICAgICBwb3N0T3V0Z29pbmdNZXNzYWdlKGUsIG1lc3NhZ2VJZCwgcmVzdWx0LmVycilcbiAgICB9IGVsc2UgaWYgKCFpc1Byb21pc2UocmVzdWx0LnJlcykpIHtcbiAgICAgIHBvc3RPdXRnb2luZ01lc3NhZ2UoZSwgbWVzc2FnZUlkLCBudWxsLCByZXN1bHQucmVzKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucmVzLnRoZW4oZnVuY3Rpb24gKGZpbmFsUmVzdWx0KSB7XG4gICAgICAgIHBvc3RPdXRnb2luZ01lc3NhZ2UoZSwgbWVzc2FnZUlkLCBudWxsLCBmaW5hbFJlc3VsdClcbiAgICAgIH0sIGZ1bmN0aW9uIChmaW5hbEVycm9yKSB7XG4gICAgICAgIHBvc3RPdXRnb2luZ01lc3NhZ2UoZSwgbWVzc2FnZUlkLCBmaW5hbEVycm9yKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkluY29taW5nTWVzc2FnZSAoZSkge1xuICAgIHZhciBwYXlsb2FkID0gZS5kYXRhXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHBheWxvYWQpIHx8IHBheWxvYWQubGVuZ3RoICE9PSAyKSB7XG4gICAgICAvLyBtZXNzYWdlIGRvZW5zJ3QgbWF0Y2ggY29tbXVuaWNhdGlvbiBmb3JtYXQ7IGlnbm9yZVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHZhciBtZXNzYWdlSWQgPSBwYXlsb2FkWzBdXG4gICAgdmFyIG1lc3NhZ2UgPSBwYXlsb2FkWzFdXG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwb3N0T3V0Z29pbmdNZXNzYWdlKGUsIG1lc3NhZ2VJZCwgbmV3IEVycm9yKFxuICAgICAgICAnUGxlYXNlIHBhc3MgYSBmdW5jdGlvbiBpbnRvIHJlZ2lzdGVyKCkuJykpXG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZUluY29taW5nTWVzc2FnZShlLCBjYWxsYmFjaywgbWVzc2FnZUlkLCBtZXNzYWdlKVxuICAgIH1cbiAgfVxuXG4gIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIG9uSW5jb21pbmdNZXNzYWdlKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHJlZ2lzdGVyUHJvbWlzZVdvcmtlclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3Byb21pc2Utd29ya2VyL3JlZ2lzdGVyLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\nvar registerPromiseWorker = __webpack_require__(0);\nvar FFT = function (bufferSize, sampleRate, windowFunc, alpha) {\n    this.bufferSize = bufferSize;\n    this.sampleRate = sampleRate;\n    this.bandwidth = (2 / bufferSize) * (sampleRate / 2);\n    this.sinTable = new Float32Array(bufferSize);\n    this.cosTable = new Float32Array(bufferSize);\n    this.windowValues = new Float32Array(bufferSize);\n    this.reverseTable = new Uint32Array(bufferSize);\n    this.peakBand = 0;\n    this.peak = 0;\n    switch (windowFunc) {\n        case 'bartlett':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_1 = 0; i_1 < bufferSize; i_1++) {\n                this.windowValues[i_1] =\n                    (2 / (bufferSize - 1)) *\n                        ((bufferSize - 1) / 2 - Math.abs(i_1 - (bufferSize - 1) / 2));\n            }\n            break;\n        case 'bartlettHann':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_2 = 0; i_2 < bufferSize; i_2++) {\n                this.windowValues[i_2] =\n                    0.62 -\n                        0.48 * Math.abs(i_2 / (bufferSize - 1) - 0.5) -\n                        0.38 * Math.cos((Math.PI * 2 * i_2) / (bufferSize - 1));\n            }\n            break;\n        case 'blackman':\n            alpha = alpha || 0.16;\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_3 = 0; i_3 < bufferSize; i_3++) {\n                this.windowValues[i_3] =\n                    (1 - alpha) / 2 -\n                        0.5 * Math.cos((Math.PI * 2 * i_3) / (bufferSize - 1)) +\n                        (alpha / 2) *\n                            Math.cos((4 * Math.PI * i_3) / (bufferSize - 1));\n            }\n            break;\n        case 'cosine':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_4 = 0; i_4 < bufferSize; i_4++) {\n                this.windowValues[i_4] = Math.cos((Math.PI * i_4) / (bufferSize - 1) - Math.PI / 2);\n            }\n            break;\n        case 'gauss':\n            alpha = alpha || 0.25;\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_5 = 0; i_5 < bufferSize; i_5++) {\n                this.windowValues[i_5] = Math.pow(Math.E, -0.5 *\n                    Math.pow((i_5 - (bufferSize - 1) / 2) /\n                        ((alpha * (bufferSize - 1)) / 2), 2));\n            }\n            break;\n        case 'hamming':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_6 = 0; i_6 < bufferSize; i_6++) {\n                this.windowValues[i_6] =\n                    (0.54 - 0.46) *\n                        Math.cos((Math.PI * 2 * i_6) / (bufferSize - 1));\n            }\n            break;\n        case 'hann':\n        case undefined:\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_7 = 0; i_7 < bufferSize; i_7++) {\n                this.windowValues[i_7] =\n                    0.5 * (1 - Math.cos((Math.PI * 2 * i_7) / (bufferSize - 1)));\n            }\n            break;\n        case 'lanczoz':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_8 = 0; i_8 < bufferSize; i_8++) {\n                this.windowValues[i_8] =\n                    Math.sin(Math.PI * ((2 * i_8) / (bufferSize - 1) - 1)) /\n                        (Math.PI * ((2 * i_8) / (bufferSize - 1) - 1));\n            }\n            break;\n        case 'rectangular':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_9 = 0; i_9 < bufferSize; i_9++) {\n                this.windowValues[i_9] = 1;\n            }\n            break;\n        case 'triangular':\n            // tslint:disable-next-line:no-shadowed-variable\n            for (var i_10 = 0; i_10 < bufferSize; i_10++) {\n                this.windowValues[i_10] =\n                    (2 / bufferSize) *\n                        (bufferSize / 2 - Math.abs(i_10 - (bufferSize - 1) / 2));\n            }\n            break;\n        default:\n            throw Error('No such window function \\'' + windowFunc + '\\'');\n    }\n    var limit = 1;\n    // tslint:disable-next-line:no-bitwise\n    var bit = bufferSize >> 1;\n    var i;\n    while (limit < bufferSize) {\n        for (i = 0; i < limit; i++) {\n            this.reverseTable[i + limit] = this.reverseTable[i] + bit;\n        }\n        // tslint:disable-next-line:no-bitwise\n        limit = limit << 1;\n        // tslint:disable-next-line:no-bitwise\n        bit = bit >> 1;\n    }\n    for (i = 0; i < bufferSize; i++) {\n        this.sinTable[i] = Math.sin(-Math.PI / i);\n        this.cosTable[i] = Math.cos(-Math.PI / i);\n    }\n    this.calculateSpectrum = function (buffer) {\n        // Locally scope variables for speed up\n        // tslint:disable-next-line:no-shadowed-variable\n        var bufferSize = this.bufferSize;\n        var cosTable = this.cosTable;\n        var sinTable = this.sinTable;\n        var reverseTable = this.reverseTable;\n        var real = new Float32Array(bufferSize);\n        var imag = new Float32Array(bufferSize);\n        var bSi = 2 / this.bufferSize;\n        var sqrt = Math.sqrt;\n        var rval;\n        var ival;\n        var mag;\n        var spectrum = new Float32Array(bufferSize / 2);\n        var k = Math.floor(Math.log(bufferSize) / Math.LN2);\n        if (Math.pow(2, k) !== bufferSize) {\n            throw new Error('Invalid buffer size, must be a power of 2.');\n        }\n        if (bufferSize !== buffer.length) {\n            throw new Error('Supplied buffer is not the same size as defined FFT. FFT Size: ' +\n                bufferSize + ' Buffer Size: ' + buffer.length);\n        }\n        var halfSize = 1;\n        var phaseShiftStepReal;\n        var phaseShiftStepImag;\n        var currentPhaseShiftReal;\n        var currentPhaseShiftImag;\n        var off;\n        var tr;\n        var ti;\n        var tmpReal;\n        // tslint:disable-next-line:no-shadowed-variable\n        for (var i_11 = 0; i_11 < bufferSize; i_11++) {\n            real[i_11] =\n                buffer[reverseTable[i_11]] * this.windowValues[reverseTable[i_11]];\n            imag[i_11] = 0;\n        }\n        while (halfSize < bufferSize) {\n            phaseShiftStepReal = cosTable[halfSize];\n            phaseShiftStepImag = sinTable[halfSize];\n            currentPhaseShiftReal = 1;\n            currentPhaseShiftImag = 0;\n            for (var fftStep = 0; fftStep < halfSize; fftStep++) {\n                // tslint:disable-next-line:no-shadowed-variable\n                var i_12 = fftStep;\n                while (i_12 < bufferSize) {\n                    off = i_12 + halfSize;\n                    tr =\n                        currentPhaseShiftReal * real[off] -\n                            currentPhaseShiftImag * imag[off];\n                    ti =\n                        currentPhaseShiftReal * imag[off] +\n                            currentPhaseShiftImag * real[off];\n                    real[off] = real[i_12] - tr;\n                    imag[off] = imag[i_12] - ti;\n                    real[i_12] += tr;\n                    imag[i_12] += ti;\n                    // tslint:disable-next-line:no-bitwise\n                    i_12 += halfSize << 1;\n                }\n                tmpReal = currentPhaseShiftReal;\n                currentPhaseShiftReal =\n                    tmpReal * phaseShiftStepReal -\n                        currentPhaseShiftImag * phaseShiftStepImag;\n                currentPhaseShiftImag =\n                    tmpReal * phaseShiftStepImag +\n                        currentPhaseShiftImag * phaseShiftStepReal;\n            }\n            // tslint:disable-next-line:no-bitwise\n            halfSize = halfSize << 1;\n        }\n        // tslint:disable-next-line:no-shadowed-variable\n        for (var i_13 = 0, N = bufferSize / 2; i_13 < N; i_13++) {\n            rval = real[i_13];\n            ival = imag[i_13];\n            mag = bSi * sqrt(rval * rval + ival * ival);\n            if (mag > this.peak) {\n                this.peakBand = i_13;\n                this.peak = mag;\n            }\n            spectrum[i_13] = mag;\n        }\n        return spectrum;\n    };\n};\nfunction makeImage(f, gradient) {\n    console.log({ gradient: gradient });\n    var image = new ImageData(f.length, f[0].length);\n    for (var i = 0; i < image.data.length; i += 4) {\n        var j = i / 4;\n        var x = j % f.length;\n        var y = Math.floor(j / f.length);\n        image.data[i] = gradient[f[x][y]][0];\n        image.data[i + 1] = gradient[f[x][y]][1];\n        image.data[i + 2] = gradient[f[x][y]][2];\n        image.data[i + 3] = gradient[f[x][y]][3] * 255;\n        // image.data[i]     = 255\n        // image.data[i + 1] = 255\n        // image.data[i + 2] = 255\n        // image.data[i + 3] = f[x][y]\n    }\n    return image;\n}\nfunction resample(oldMatrix, width) {\n    var columnsNumber = width;\n    var newMatrix = [];\n    var oldPiece = 1 / oldMatrix.length;\n    var newPiece = 1 / columnsNumber;\n    var i;\n    for (i = 0; i < columnsNumber; i++) {\n        var column = new Array(oldMatrix[0].length);\n        var j = void 0;\n        for (j = 0; j < oldMatrix.length; j++) {\n            var oldStart = j * oldPiece;\n            var oldEnd = oldStart + oldPiece;\n            var newStart = i * newPiece;\n            var newEnd = newStart + newPiece;\n            var overlap = oldEnd <= newStart || newEnd <= oldStart\n                ? 0\n                : Math.min(Math.max(oldEnd, newStart), Math.max(newEnd, oldStart)) -\n                    Math.max(Math.min(oldEnd, newStart), Math.min(newEnd, oldStart));\n            var k = void 0;\n            /* eslint-disable max-depth */\n            if (overlap > 0) {\n                for (k = 0; k < oldMatrix[0].length; k++) {\n                    if (column[k] == null) {\n                        column[k] = 0;\n                    }\n                    column[k] += (overlap / newPiece) * oldMatrix[j][k];\n                }\n            }\n        }\n        var intColumn = new Uint8Array(oldMatrix[0].length);\n        var m = void 0;\n        for (m = 0; m < oldMatrix[0].length; m++) {\n            intColumn[m] = column[m];\n        }\n        newMatrix.push(intColumn);\n    }\n    return newMatrix;\n}\nfunction getFrequencies(_a) {\n    var fftSamples = _a.fftSamples, buffer = _a.buffer, length = _a.length, sampleRate = _a.sampleRate, width = _a.width, gradient = _a.gradient;\n    var channelOne = new Float32Array(buffer);\n    var frequencies = [];\n    if (!channelOne) {\n        throw new Error('Web Audio buffer is not available');\n    }\n    var uniqueSamplesPerPx = length / width;\n    var nOverlap = Math.max(0, Math.round(fftSamples - uniqueSamplesPerPx));\n    var fft = new FFT(fftSamples, sampleRate, 'gauss', .05);\n    var currentOffset = 0;\n    while (currentOffset + fftSamples < length) {\n        var segment = channelOne.slice(currentOffset, currentOffset + fftSamples);\n        var spectrum = fft.calculateSpectrum(segment);\n        var array = new Uint8Array(fftSamples / 2);\n        var j = void 0;\n        for (j = 0; j < fftSamples / 2; j++) {\n            array[j] = Math.max(-255, Math.log10(spectrum[j]) * 45);\n        }\n        frequencies.push(array.reverse());\n        currentOffset += fftSamples - nOverlap;\n    }\n    // const resampled = resample(frequencies, width)\n    return [frequencies, makeImage(frequencies, gradient)];\n}\nregisterPromiseWorker(getFrequencies);\n/* harmony default export */ __webpack_exports__[\"default\"] = (null);\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZS9nZXQtZnJlcXVlbmNpZXMud29ya2VyLnRzPzA0OGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxJQUFNLHFCQUFxQixHQUFHLG1CQUFPLENBQUMsQ0FBeUIsQ0FBQztBQTBCaEUsSUFBTSxHQUFHLEdBQUcsVUFBb0IsVUFBa0IsRUFBRSxVQUFrQixFQUFFLFVBQWtCLEVBQUUsS0FBYztJQUV4RyxJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztJQUM3QixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztJQUM3QixJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBRXJELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDN0MsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUM3QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2pELElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7SUFFaEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7SUFDbEIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7SUFFZCxRQUFRLFVBQVUsRUFBRTtRQUNoQixLQUFLLFVBQVU7WUFDWCxnREFBZ0Q7WUFDaEQsS0FBSyxJQUFJLEdBQUMsR0FBRyxDQUFDLEVBQUUsR0FBQyxHQUFHLFVBQVUsRUFBRSxHQUFDLEVBQUUsRUFBRTtnQkFDakMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFDLENBQUM7b0JBQ2hCLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDO3dCQUN0QixDQUFDLENBQUMs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QyxDQUFDO1FBQzVDLElBQUksQ0FBQztRQUNMLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztTQUMxRDtRQUNELFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2pDLGFBQWEsSUFBSSxVQUFVLEdBQUcsUUFBUTtLQUN2QztJQUNELGlEQUFpRDtJQUNqRCxPQUFPLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxXQUFXLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDeEQsQ0FBQztBQUVELHFCQUFxQixDQUFDLGNBQWMsQ0FBQztBQUVyQywrREFBZSxJQUFXIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByZWdpc3RlclByb21pc2VXb3JrZXIgPSByZXF1aXJlKCdwcm9taXNlLXdvcmtlci9yZWdpc3RlcicpXG4vLyBpbXBvcnQgeyBoZWF0TWFwIH0gZnJvbSAnLi9oZWF0LW1hcCdcblxuLy8gLy8gdHNsaW50OmRpc2FibGU6bm8tYml0d2lzZVxuLy8gY29uc3QgaGVhdE1hcFJnYiA9IGhlYXRNYXAubWFwKChoZXgpID0+IHtcbi8vICAgY29uc3QgYmlnaW50ID0gcGFyc2VJbnQoaGV4LCAxNilcbi8vICAgcmV0dXJuIFtcbi8vICAgICAoYmlnaW50ID4+IDE2KSAmIDI1NSxcbi8vICAgICAoYmlnaW50ID4+IDgpICYgMjU1LFxuLy8gICAgIGJpZ2ludCAmIDI1NVxuLy8gICBdXG4vLyB9KVxuXG5pbnRlcmZhY2UgRkZUIHtcbiAgYnVmZmVyU2l6ZTogbnVtYmVyXG4gIHNhbXBsZVJhdGU6IG51bWJlclxuICBiYW5kd2lkdGg6IG51bWJlclxuICBzaW5UYWJsZTogRmxvYXQzMkFycmF5XG4gIGNvc1RhYmxlOiBGbG9hdDMyQXJyYXlcbiAgd2luZG93VmFsdWVzOiBGbG9hdDMyQXJyYXlcbiAgcmV2ZXJzZVRhYmxlOiBVaW50MzJBcnJheVxuICBwZWFrQmFuZDogbnVtYmVyXG4gIHBlYWs6IG51bWJlclxuICBjYWxjdWxhdGVTcGVjdHJ1bShidWZmZXI6IEZsb2F0MzJBcnJheSk6IEZsb2F0MzJBcnJheVxufVxuXG5jb25zdCBGRlQgPSBmdW5jdGlvbih0aGlzOiBGRlQsIGJ1ZmZlclNpemU6IG51bWJlciwgc2FtcGxlUmF0ZTogbnVtYmVyLCB3aW5kb3dGdW5jOiBzdHJpbmcsIGFscGhhPzogbnVtYmVyKSB7XG5cbiAgdGhpcy5idWZmZXJTaXplID0gYnVmZmVyU2l6ZTtcbiAgdGhpcy5zYW1wbGVSYXRlID0gc2FtcGxlUmF0ZTtcbiAgdGhpcy5iYW5kd2lkdGggPSAoMiAvIGJ1ZmZlclNpemUpICogKHNhbXBsZVJhdGUgLyAyKTtcblxuICB0aGlzLnNpblRhYmxlID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXJTaXplKTtcbiAgdGhpcy5jb3NUYWJsZSA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyU2l6ZSk7XG4gIHRoaXMud2luZG93VmFsdWVzID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXJTaXplKTtcbiAgdGhpcy5yZXZlcnNlVGFibGUgPSBuZXcgVWludDMyQXJyYXkoYnVmZmVyU2l6ZSk7XG5cbiAgdGhpcy5wZWFrQmFuZCA9IDA7XG4gIHRoaXMucGVhayA9IDA7XG5cbiAgc3dpdGNoICh3aW5kb3dGdW5jKSB7XG4gICAgICBjYXNlICdiYXJ0bGV0dCc6XG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgdGhpcy53aW5kb3dWYWx1ZXNbaV0gPVxuICAgICAgICAgICAgICAgICAgKDIgLyAoYnVmZmVyU2l6ZSAtIDEpKSAqXG4gICAgICAgICAgICAgICAgICAoKGJ1ZmZlclNpemUgLSAxKSAvIDIgLSBNYXRoLmFicyhpIC0gKGJ1ZmZlclNpemUgLSAxKSAvIDIpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdiYXJ0bGV0dEhhbm4nOlxuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMud2luZG93VmFsdWVzW2ldID1cbiAgICAgICAgICAgICAgICAgIDAuNjIgLVxuICAgICAgICAgICAgICAgICAgMC40OCAqIE1hdGguYWJzKGkgLyAoYnVmZmVyU2l6ZSAtIDEpIC0gMC41KSAtXG4gICAgICAgICAgICAgICAgICAwLjM4ICogTWF0aC5jb3MoKE1hdGguUEkgKiAyICogaSkgLyAoYnVmZmVyU2l6ZSAtIDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdibGFja21hbic6XG4gICAgICAgICAgYWxwaGEgPSBhbHBoYSB8fCAwLjE2O1xuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMud2luZG93VmFsdWVzW2ldID1cbiAgICAgICAgICAgICAgICAgICgxIC0gYWxwaGEpIC8gMiAtXG4gICAgICAgICAgICAgICAgICAwLjUgKiBNYXRoLmNvcygoTWF0aC5QSSAqIDIgKiBpKSAvIChidWZmZXJTaXplIC0gMSkpICtcbiAgICAgICAgICAgICAgICAgIChhbHBoYSAvIDIpICpcbiAgICAgICAgICAgICAgICAgICAgICBNYXRoLmNvcygoNCAqIE1hdGguUEkgKiBpKSAvIChidWZmZXJTaXplIC0gMSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Nvc2luZSc6XG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgdGhpcy53aW5kb3dWYWx1ZXNbaV0gPSBNYXRoLmNvcyhcbiAgICAgICAgICAgICAgICAgIChNYXRoLlBJICogaSkgLyAoYnVmZmVyU2l6ZSAtIDEpIC0gTWF0aC5QSSAvIDJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdnYXVzcyc6XG4gICAgICAgICAgYWxwaGEgPSBhbHBoYSB8fCAwLjI1O1xuICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgIHRoaXMud2luZG93VmFsdWVzW2ldID0gTWF0aC5wb3coXG4gICAgICAgICAgICAgICAgICBNYXRoLkUsXG4gICAgICAgICAgICAgICAgICAtMC41ICpcbiAgICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGkgLSAoYnVmZmVyU2l6ZSAtIDEpIC8gMikgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChhbHBoYSAqIChidWZmZXJTaXplIC0gMSkpIC8gMiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaGFtbWluZyc6XG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgdGhpcy53aW5kb3dWYWx1ZXNbaV0gPVxuICAgICAgICAgICAgICAgICAgKDAuNTQgLSAwLjQ2KSAqXG4gICAgICAgICAgICAgICAgICBNYXRoLmNvcygoTWF0aC5QSSAqIDIgKiBpKSAvIChidWZmZXJTaXplIC0gMSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2hhbm4nOlxuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgdGhpcy53aW5kb3dWYWx1ZXNbaV0gPVxuICAgICAgICAgICAgICAgICAgMC41ICogKDEgLSBNYXRoLmNvcygoTWF0aC5QSSAqIDIgKiBpKSAvIChidWZmZXJTaXplIC0gMSkpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdsYW5jem96JzpcbiAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGVcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlclNpemU7IGkrKykge1xuICAgICAgICAgICAgICB0aGlzLndpbmRvd1ZhbHVlc1tpXSA9XG4gICAgICAgICAgICAgICAgICBNYXRoLnNpbihNYXRoLlBJICogKCgyICogaSkgLyAoYnVmZmVyU2l6ZSAtIDEpIC0gMSkpIC9cbiAgICAgICAgICAgICAgICAgIChNYXRoLlBJICogKCgyICogaSkgLyAoYnVmZmVyU2l6ZSAtIDEpIC0gMSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlY3Rhbmd1bGFyJzpcbiAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGVcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlclNpemU7IGkrKykge1xuICAgICAgICAgICAgICB0aGlzLndpbmRvd1ZhbHVlc1tpXSA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndHJpYW5ndWxhcic6XG4gICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJTaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgdGhpcy53aW5kb3dWYWx1ZXNbaV0gPVxuICAgICAgICAgICAgICAgICAgKDIgLyBidWZmZXJTaXplKSAqXG4gICAgICAgICAgICAgICAgICAoYnVmZmVyU2l6ZSAvIDIgLSBNYXRoLmFicyhpIC0gKGJ1ZmZlclNpemUgLSAxKSAvIDIpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IEVycm9yKCdObyBzdWNoIHdpbmRvdyBmdW5jdGlvbiBcXCcnICsgd2luZG93RnVuYyArICdcXCcnKVxuICB9XG5cbiAgbGV0IGxpbWl0ID0gMTtcbiAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWJpdHdpc2VcbiAgbGV0IGJpdCA9IGJ1ZmZlclNpemUgPj4gMTtcblxuICBsZXQgaTtcblxuICB3aGlsZSAobGltaXQgPCBidWZmZXJTaXplKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGltaXQ7IGkrKykge1xuICAgICAgICAgIHRoaXMucmV2ZXJzZVRhYmxlW2kgKyBsaW1pdF0gPSB0aGlzLnJldmVyc2VUYWJsZVtpXSArIGJpdDtcbiAgICAgIH1cblxuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWJpdHdpc2VcbiAgICAgIGxpbWl0ID0gbGltaXQgPDwgMTtcbiAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1iaXR3aXNlXG4gICAgICBiaXQgPSBiaXQgPj4gMTtcbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBidWZmZXJTaXplOyBpKyspIHtcbiAgICAgIHRoaXMuc2luVGFibGVbaV0gPSBNYXRoLnNpbigtTWF0aC5QSSAvIGkpO1xuICAgICAgdGhpcy5jb3NUYWJsZVtpXSA9IE1hdGguY29zKC1NYXRoLlBJIC8gaSk7XG4gIH1cblxuICB0aGlzLmNhbGN1bGF0ZVNwZWN0cnVtID0gZnVuY3Rpb24oYnVmZmVyOiBGbG9hdDMyQXJyYXkpIHtcbiAgICAgIC8vIExvY2FsbHkgc2NvcGUgdmFyaWFibGVzIGZvciBzcGVlZCB1cFxuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgICBjb25zdCBidWZmZXJTaXplID0gdGhpcy5idWZmZXJTaXplXG4gICAgICBjb25zdCBjb3NUYWJsZSA9IHRoaXMuY29zVGFibGVcbiAgICAgIGNvbnN0IHNpblRhYmxlID0gdGhpcy5zaW5UYWJsZVxuICAgICAgY29uc3QgcmV2ZXJzZVRhYmxlID0gdGhpcy5yZXZlcnNlVGFibGVcbiAgICAgIGNvbnN0IHJlYWwgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlclNpemUpXG4gICAgICBjb25zdCBpbWFnID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXJTaXplKVxuICAgICAgY29uc3QgYlNpID0gMiAvIHRoaXMuYnVmZmVyU2l6ZVxuICAgICAgY29uc3Qgc3FydCA9IE1hdGguc3FydFxuICAgICAgbGV0IHJ2YWxcbiAgICAgIGxldCBpdmFsXG4gICAgICBsZXQgbWFnXG4gICAgICBjb25zdCBzcGVjdHJ1bSA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyU2l6ZSAvIDIpO1xuXG4gICAgICBjb25zdCBrID0gTWF0aC5mbG9vcihNYXRoLmxvZyhidWZmZXJTaXplKSAvIE1hdGguTE4yKTtcblxuICAgICAgaWYgKE1hdGgucG93KDIsIGspICE9PSBidWZmZXJTaXplKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGJ1ZmZlciBzaXplLCBtdXN0IGJlIGEgcG93ZXIgb2YgMi4nKVxuICAgICAgfVxuICAgICAgaWYgKGJ1ZmZlclNpemUgIT09IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cHBsaWVkIGJ1ZmZlciBpcyBub3QgdGhlIHNhbWUgc2l6ZSBhcyBkZWZpbmVkIEZGVC4gRkZUIFNpemU6ICcgK1xuICAgICAgICAgICAgYnVmZmVyU2l6ZSArICcgQnVmZmVyIFNpemU6ICcgKyBidWZmZXIubGVuZ3RoKVxuICAgICAgfVxuXG4gICAgICBsZXQgaGFsZlNpemUgPSAxXG4gICAgICBsZXQgcGhhc2VTaGlmdFN0ZXBSZWFsXG4gICAgICBsZXQgcGhhc2VTaGlmdFN0ZXBJbWFnXG4gICAgICBsZXQgY3VycmVudFBoYXNlU2hpZnRSZWFsXG4gICAgICBsZXQgY3VycmVudFBoYXNlU2hpZnRJbWFnXG4gICAgICBsZXQgb2ZmXG4gICAgICBsZXQgdHJcbiAgICAgIGxldCB0aVxuICAgICAgbGV0IHRtcFJlYWxcblxuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXNoYWRvd2VkLXZhcmlhYmxlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlclNpemU7IGkrKykge1xuICAgICAgICAgIHJlYWxbaV0gPVxuICAgICAgICAgICAgICBidWZmZXJbcmV2ZXJzZVRhYmxlW2ldXSAqIHRoaXMud2luZG93VmFsdWVzW3JldmVyc2VUYWJsZVtpXV07XG4gICAgICAgICAgaW1hZ1tpXSA9IDA7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChoYWxmU2l6ZSA8IGJ1ZmZlclNpemUpIHtcbiAgICAgICAgICBwaGFzZVNoaWZ0U3RlcFJlYWwgPSBjb3NUYWJsZVtoYWxmU2l6ZV07XG4gICAgICAgICAgcGhhc2VTaGlmdFN0ZXBJbWFnID0gc2luVGFibGVbaGFsZlNpemVdO1xuXG4gICAgICAgICAgY3VycmVudFBoYXNlU2hpZnRSZWFsID0gMTtcbiAgICAgICAgICBjdXJyZW50UGhhc2VTaGlmdEltYWcgPSAwO1xuXG4gICAgICAgICAgZm9yIChsZXQgZmZ0U3RlcCA9IDA7IGZmdFN0ZXAgPCBoYWxmU2l6ZTsgZmZ0U3RlcCsrKSB7XG4gICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1zaGFkb3dlZC12YXJpYWJsZVxuICAgICAgICAgICAgICBsZXQgaSA9IGZmdFN0ZXA7XG5cbiAgICAgICAgICAgICAgd2hpbGUgKGkgPCBidWZmZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgICBvZmYgPSBpICsgaGFsZlNpemU7XG4gICAgICAgICAgICAgICAgICB0ciA9XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBoYXNlU2hpZnRSZWFsICogcmVhbFtvZmZdIC1cbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGhhc2VTaGlmdEltYWcgKiBpbWFnW29mZl07XG4gICAgICAgICAgICAgICAgICB0aSA9XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBoYXNlU2hpZnRSZWFsICogaW1hZ1tvZmZdICtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGhhc2VTaGlmdEltYWcgKiByZWFsW29mZl07XG5cbiAgICAgICAgICAgICAgICAgIHJlYWxbb2ZmXSA9IHJlYWxbaV0gLSB0cjtcbiAgICAgICAgICAgICAgICAgIGltYWdbb2ZmXSA9IGltYWdbaV0gLSB0aTtcbiAgICAgICAgICAgICAgICAgIHJlYWxbaV0gKz0gdHI7XG4gICAgICAgICAgICAgICAgICBpbWFnW2ldICs9IHRpO1xuXG4gICAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgICAgICAgICAgaSArPSBoYWxmU2l6ZSA8PCAxXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0bXBSZWFsID0gY3VycmVudFBoYXNlU2hpZnRSZWFsO1xuICAgICAgICAgICAgICBjdXJyZW50UGhhc2VTaGlmdFJlYWwgPVxuICAgICAgICAgICAgICAgICAgdG1wUmVhbCAqIHBoYXNlU2hpZnRTdGVwUmVhbCAtXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UGhhc2VTaGlmdEltYWcgKiBwaGFzZVNoaWZ0U3RlcEltYWc7XG4gICAgICAgICAgICAgIGN1cnJlbnRQaGFzZVNoaWZ0SW1hZyA9XG4gICAgICAgICAgICAgICAgICB0bXBSZWFsICogcGhhc2VTaGlmdFN0ZXBJbWFnICtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRQaGFzZVNoaWZ0SW1hZyAqIHBoYXNlU2hpZnRTdGVwUmVhbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYml0d2lzZVxuICAgICAgICAgIGhhbGZTaXplID0gaGFsZlNpemUgPDwgMVxuICAgICAgfVxuXG4gICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tc2hhZG93ZWQtdmFyaWFibGVcbiAgICAgIGZvciAobGV0IGkgPSAwLCBOID0gYnVmZmVyU2l6ZSAvIDI7IGkgPCBOOyBpKyspIHtcbiAgICAgICAgICBydmFsID0gcmVhbFtpXTtcbiAgICAgICAgICBpdmFsID0gaW1hZ1tpXTtcbiAgICAgICAgICBtYWcgPSBiU2kgKiBzcXJ0KHJ2YWwgKiBydmFsICsgaXZhbCAqIGl2YWwpO1xuXG4gICAgICAgICAgaWYgKG1hZyA+IHRoaXMucGVhaykge1xuICAgICAgICAgICAgICB0aGlzLnBlYWtCYW5kID0gaTtcbiAgICAgICAgICAgICAgdGhpcy5wZWFrID0gbWFnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzcGVjdHJ1bVtpXSA9IG1hZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzcGVjdHJ1bTtcbiAgfVxufSBhcyBhbnkgYXMgeyBuZXcgKGJ1ZmZlclNpemU6IG51bWJlciwgc2FtcGxlUmF0ZTogbnVtYmVyLCB3aW5kb3dGdW5jOiBzdHJpbmcsIGFscGhhPzogbnVtYmVyKTogRkZUIH1cblxuZnVuY3Rpb24gbWFrZUltYWdlKGY6IFVpbnQ4QXJyYXlbXSwgZ3JhZGllbnQ6IG51bWJlcltdW10pIHtcbiAgY29uc29sZS5sb2coeyBncmFkaWVudCB9KVxuICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZURhdGEoZi5sZW5ndGgsIGZbMF0ubGVuZ3RoKVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlLmRhdGEubGVuZ3RoOyBpICs9IDQpIHtcbiAgICBjb25zdCBqID0gaSAvIDRcbiAgICBjb25zdCB4ID0gaiAlIGYubGVuZ3RoXG4gICAgY29uc3QgeSA9IE1hdGguZmxvb3IoaiAvIGYubGVuZ3RoKVxuICAgIGltYWdlLmRhdGFbaV0gICAgID0gZ3JhZGllbnRbZlt4XVt5XV1bMF1cbiAgICBpbWFnZS5kYXRhW2kgKyAxXSA9IGdyYWRpZW50W2ZbeF1beV1dWzFdXG4gICAgaW1hZ2UuZGF0YVtpICsgMl0gPSBncmFkaWVudFtmW3hdW3ldXVsyXVxuICAgIGltYWdlLmRhdGFbaSArIDNdID0gZ3JhZGllbnRbZlt4XVt5XV1bM10gKiAyNTVcbiAgICAvLyBpbWFnZS5kYXRhW2ldICAgICA9IDI1NVxuICAgIC8vIGltYWdlLmRhdGFbaSArIDFdID0gMjU1XG4gICAgLy8gaW1hZ2UuZGF0YVtpICsgMl0gPSAyNTVcbiAgICAvLyBpbWFnZS5kYXRhW2kgKyAzXSA9IGZbeF1beV1cbiAgfVxuICByZXR1cm4gaW1hZ2Vcbn1cblxuZnVuY3Rpb24gcmVzYW1wbGUob2xkTWF0cml4OiBVaW50OEFycmF5W10sIHdpZHRoOiBudW1iZXIpIHtcbiAgY29uc3QgY29sdW1uc051bWJlciA9IHdpZHRoXG4gIGNvbnN0IG5ld01hdHJpeCA9IFtdXG5cbiAgY29uc3Qgb2xkUGllY2UgPSAxIC8gb2xkTWF0cml4Lmxlbmd0aFxuICBjb25zdCBuZXdQaWVjZSA9IDEgLyBjb2x1bW5zTnVtYmVyXG4gIGxldCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBjb2x1bW5zTnVtYmVyOyBpKyspIHtcbiAgICBjb25zdCBjb2x1bW4gPSBuZXcgQXJyYXkob2xkTWF0cml4WzBdLmxlbmd0aCk7XG4gICAgbGV0IGo7XG5cbiAgICBmb3IgKGogPSAwOyBqIDwgb2xkTWF0cml4Lmxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCBvbGRTdGFydCA9IGogKiBvbGRQaWVjZTtcbiAgICAgIGNvbnN0IG9sZEVuZCA9IG9sZFN0YXJ0ICsgb2xkUGllY2U7XG4gICAgICBjb25zdCBuZXdTdGFydCA9IGkgKiBuZXdQaWVjZTtcbiAgICAgIGNvbnN0IG5ld0VuZCA9IG5ld1N0YXJ0ICsgbmV3UGllY2U7XG5cbiAgICAgIGNvbnN0IG92ZXJsYXAgPSBvbGRFbmQgPD0gbmV3U3RhcnQgfHwgbmV3RW5kIDw9IG9sZFN0YXJ0XG4gICAgICAgID8gMFxuICAgICAgICA6IE1hdGgubWluKFxuICAgICAgICAgICAgICBNYXRoLm1heChvbGRFbmQsIG5ld1N0YXJ0KSxcbiAgICAgICAgICAgICAgTWF0aC5tYXgobmV3RW5kLCBvbGRTdGFydClcbiAgICAgICAgICApIC1cbiAgICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICAgICAgTWF0aC5taW4ob2xkRW5kLCBuZXdTdGFydCksXG4gICAgICAgICAgICAgIE1hdGgubWluKG5ld0VuZCwgb2xkU3RhcnQpXG4gICAgICAgICAgKTtcbiAgICAgIGxldCBrO1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWRlcHRoICovXG4gICAgICBpZiAob3ZlcmxhcCA+IDApIHtcbiAgICAgICAgZm9yIChrID0gMDsgayA8IG9sZE1hdHJpeFswXS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgIGlmIChjb2x1bW5ba10gPT0gbnVsbCkge1xuICAgICAgICAgICAgY29sdW1uW2tdID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29sdW1uW2tdICs9IChvdmVybGFwIC8gbmV3UGllY2UpICogb2xkTWF0cml4W2pdW2tdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGludENvbHVtbiA9IG5ldyBVaW50OEFycmF5KG9sZE1hdHJpeFswXS5sZW5ndGgpO1xuICAgIGxldCBtO1xuXG4gICAgZm9yIChtID0gMDsgbSA8IG9sZE1hdHJpeFswXS5sZW5ndGg7IG0rKykge1xuICAgICAgaW50Q29sdW1uW21dID0gY29sdW1uW21dO1xuICAgIH1cbiAgICBuZXdNYXRyaXgucHVzaChpbnRDb2x1bW4pO1xuICB9XG5cbiAgcmV0dXJuIG5ld01hdHJpeDtcbn1cblxuZnVuY3Rpb24gZ2V0RnJlcXVlbmNpZXMoe2ZmdFNhbXBsZXMsIGJ1ZmZlciwgbGVuZ3RoLCBzYW1wbGVSYXRlLCB3aWR0aCwgZ3JhZGllbnR9OiB7XG4gIGZmdFNhbXBsZXM6IG51bWJlcixcbiAgYnVmZmVyOiBBcnJheUJ1ZmZlcixcbiAgbGVuZ3RoOiBudW1iZXIsXG4gIHNhbXBsZVJhdGU6IG51bWJlcixcbiAgd2lkdGg6IG51bWJlcixcbiAgZ3JhZGllbnQ6IG51bWJlcltdW11cbn0pIHtcbiAgY29uc3QgY2hhbm5lbE9uZSA9IG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKVxuICBjb25zdCBmcmVxdWVuY2llcyA9IFtdXG5cbiAgaWYgKCFjaGFubmVsT25lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdXZWIgQXVkaW8gYnVmZmVyIGlzIG5vdCBhdmFpbGFibGUnKVxuICB9XG5cbiAgY29uc3QgdW5pcXVlU2FtcGxlc1BlclB4ID0gbGVuZ3RoIC8gd2lkdGg7XG4gIGNvbnN0IG5PdmVybGFwID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChmZnRTYW1wbGVzIC0gdW5pcXVlU2FtcGxlc1BlclB4KSlcblxuICBjb25zdCBmZnQgPSBuZXcgRkZUKGZmdFNhbXBsZXMsIHNhbXBsZVJhdGUsICdnYXVzcycsIC4wNSlcbiAgbGV0IGN1cnJlbnRPZmZzZXQgPSAwXG5cbiAgd2hpbGUgKGN1cnJlbnRPZmZzZXQgKyBmZnRTYW1wbGVzIDwgbGVuZ3RoKSB7XG4gICAgY29uc3Qgc2VnbWVudCA9IGNoYW5uZWxPbmUuc2xpY2UoY3VycmVudE9mZnNldCwgY3VycmVudE9mZnNldCArIGZmdFNhbXBsZXMpXG4gICAgY29uc3Qgc3BlY3RydW0gPSBmZnQuY2FsY3VsYXRlU3BlY3RydW0oc2VnbWVudClcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGZmdFNhbXBsZXMgLyAyKVxuICAgIGxldCBqXG4gICAgZm9yIChqID0gMDsgaiA8IGZmdFNhbXBsZXMgLyAyOyBqKyspIHtcbiAgICAgICAgYXJyYXlbal0gPSBNYXRoLm1heCgtMjU1LCBNYXRoLmxvZzEwKHNwZWN0cnVtW2pdKSAqIDQ1KVxuICAgIH1cbiAgICBmcmVxdWVuY2llcy5wdXNoKGFycmF5LnJldmVyc2UoKSlcbiAgICBjdXJyZW50T2Zmc2V0ICs9IGZmdFNhbXBsZXMgLSBuT3ZlcmxhcFxuICB9XG4gIC8vIGNvbnN0IHJlc2FtcGxlZCA9IHJlc2FtcGxlKGZyZXF1ZW5jaWVzLCB3aWR0aClcbiAgcmV0dXJuIFtmcmVxdWVuY2llcywgbWFrZUltYWdlKGZyZXF1ZW5jaWVzLCBncmFkaWVudCldXG59XG5cbnJlZ2lzdGVyUHJvbWlzZVdvcmtlcihnZXRGcmVxdWVuY2llcylcblxuZXhwb3J0IGRlZmF1bHQgbnVsbCBhcyBhbnlcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9zZXJ2aWNlL2dldC1mcmVxdWVuY2llcy53b3JrZXIudHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ })
/******/ ]);